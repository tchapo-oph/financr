"use strict";var parent_css_resets=[];function resize_field_appendix(e){setTimeout(function(){jQuery(".appendix_field").each(function(){var e,t=0,i=0,s=0,a=jQuery(this),n=a.find(".input_container");jQuery(this).find(".icon-holder").each(function(){t=n.hasClass("icon-label-tip")||n.hasClass("icon-label-hidden")?0:(t=jQuery(this).find(".icon-label").width(),parseInt(t)+10),jQuery(this).find(".no-icon").is("span")&&jQuery(this).addClass("has_no_icon"),i=jQuery(this).find(".icon-select").width(),jQuery(this).find(".icon-select span").css("width",parseInt(jQuery(this).find(".icon-select span").css("font-size"))+"px"),e=parseInt(t)+parseInt(i),n.hasClass("icon-spinner")||n.hasClass("icon-dropdown")?s<e&&(s=e):a.hasClass("material_field")?s+=e+20:s+=e}),n.hasClass("icon-dropdown")||n.hasClass("icon-spinner")||jQuery(this).find(".icon-container").css("width",s+"px"),n.hasClass("icon-spinner")&&!a.hasClass("material_field")&&(i=jQuery(this).find(".icon-checked .icon-select").width(),t=parseInt(jQuery(this).find(".icon-checked .icon-label").width()),s=i+t+55,n.css("width",s+"px")),n.hasClass("icon-dropdown")&&!a.hasClass("material_field")&&(i=jQuery(this).find(".is_default_selection .icon-select").width(),t=parseInt(jQuery(this).find(".is_default_selection .icon-label").width()),s=i+t+55,n.css("width",s+"px"))})},e)}function showDays(e,t){e=new Date(e),t=new Date(t),e.getTime(),t.getTime()}function run_parent_css_reset(e){parent_css_resets=[];jQuery(".nex_forms_modal").parents().map(function(){jQuery(this).css("position")&&parent_css_resets.push({element:jQuery(this),position:jQuery(this).css("position")}),jQuery(this).css("position","unset")}).get()}function build_md_select(e){e.closest(".form_field").find("div.cd-dropdown").remove(),"stack"==e.attr("data-effect")?e.dropdown({gutter:15,effect:"stack",select_obj:e}):"angled"==e.attr("data-effect")?e.dropdown({gutter:10,delay:100,random:!0,effect:"angled",select_obj:e}):"fanned"==e.attr("data-effect")?e.dropdown({gutter:0,delay:40,effect:"fanned",rotated:"left",select_obj:e}):"slide-in"==e.attr("data-effect")?e.dropdown({gutter:15,stack:!0,slidingIn:100,effect:"slide-in",select_obj:e}):e.dropdown({select_obj:e})}function run_count(e,t,i,s){var a=""==jQuery(e).text()?0:parseFloat(jQuery(e).find(".math_result").text().replace(",","")),n=parseInt(jQuery(e).attr("data-decimal-places")),r=jQuery(e).attr("data-decimal-separator")?jQuery(e).attr("data-decimal-separator"):".",o=jQuery(e).attr("data-thousand-separator")?jQuery(e).attr("data-thousand-separator"):",";s&&"no"!=jQuery(e).attr("data-animate-count")?jQuery({someValue:parseFloat(a)}).animate({someValue:parseFloat(t)},{duration:300,easing:"linear",step:function(){jQuery(e).find(".math_result").text(parseFloat(this.someValue).format(n,"",o,r))}}):jQuery(e).find(".math_result").text(parseFloat(t).format(n,"",o,r)),setTimeout(function(){jQuery(e).find(".math_result").text(parseFloat(t).format(n,"",o,r))},400),jQuery(e).find(".set_math_result").trigger("change")}function set_up_math_logic(e){for(var t=e.attr("data-original-math-equation"),i=/\{(.*?)\}/g;null!=(s=i.exec(t));){var s=document.getElementsByName(s[1]);jQuery(s).on("do_nf_math_event",function(){setTimeout(function(){run_math_logic(e,!0)},30)}),jQuery(s).closest(".form_field").hasClass("text")?jQuery(s).on("keyup",function(){setTimeout(function(){run_math_logic(e,!0)},30)}):jQuery(s).on("change",function(){setTimeout(function(){run_math_logic(e,!0)},30)})}}function run_math_logic(e,t){strstr(e.attr("data-math-equation"),"[")||e.attr("data-math-equation",e.attr("data-original-math-equation"));for(var i,s=e.attr("data-math-equation"),a=e.closest("form"),n=[],r=/\{(.*?)\}/g,o="",l="",d=0,c=0,u=0;null!=(i=r.exec(s));)n[d]=i[1],d++;for(var h=n.length,f=0;f<h;f++){var p,m=n[f],v=document.getElementsByName(n[f]),u=0,c=0;o=jQuery(v).is("select")?(a.find('select[name="'+n[f]+'"] option:selected').each(function(){1==jQuery(this).prop("selected")?jQuery(v).closest(".form_field").hasClass("multi-select")?u+=parseFloat(jQuery(this).val()):u=parseFloat(jQuery(this).val()):u=0}),u):"checkbox"==jQuery(v).attr("type")?(a.find('input[name="'+n[f]+'"]').each(function(){1==jQuery(this).prop("checked")&&(c+=parseFloat(jQuery(this).val()))}),c):"radio"==jQuery(v).attr("type")?a.find('input[name="'+n[f]+'"]:checked').val()?a.find('input[name="'+n[f]+'"]:checked').val():0:"text"==jQuery(v).attr("type")?jQuery(v).closest(".form_field").hasClass("md-datepicker")||jQuery(v).closest(".form_field").hasClass("date")||jQuery(v).closest(".form_field").hasClass("jq-datepicker")?(p=(a.find('input[name="'+n[f]+'"]').val()?moment(a.find('input[name="'+n[f]+'"]').val(),a.find('input[name="'+n[f]+'"]').parent().attr("data-format")):0)/864e5)<0?0:p:jQuery(v).closest(".form_field").hasClass("time")?p=(a.find('input[name="'+n[f]+'"]').val()?moment(a.find('input[name="'+n[f]+'"]').val(),a.find('input[name="'+n[f]+'"]').parent().attr("data-format")):0)/6e4:strstr(a.find('input[name="'+n[f]+'"]').attr("data-input-mask"),",")?a.find('input[name="'+n[f]+'"]').val()?a.find('input[name="'+n[f]+'"]').val().replace(/[^\d]*/g,""):0:a.find('input[name="'+n[f]+'"]').val()?a.find('input[name="'+n[f]+'"]').val().replace(",","."):0:jQuery(v).is("textarea")?a.find('textarea[name="'+n[f]+'"]').val()?a.find('textarea[name="'+n[f]+'"]').val():0:jQuery(v).val()?jQuery(v).val().replace(",",""):0,l=e.attr("data-math-equation").replace(m,o).replace("{","").replace("}",""),e.attr("data-math-equation",l)}jQuery(v).closest(".form_field").hasClass("time")?run_count(e,math.evaluate(l),"time",t):run_count(e,math.evaluate(l),"",t);t=e.attr("data-decimal-places")?parseInt(e.attr("data-decimal-places")):0,e.attr("data-decimal-separator")&&e.attr("data-decimal-separator"),e.attr("data-thousand-separator")&&e.attr("data-thousand-separator");0!=t?e.parent().find("input.set_math_result").val((Math.ceil(100*math.evaluate(l))/100).toFixed(parseInt(t))):e.parent().find("input.set_math_result").val(Math.ceil(100*math.evaluate(l))/100),(jQuery(v).closest(".form_field").hasClass("time")||jQuery(v).closest(".form_field").hasClass("date")||jQuery(v).closest(".form_field").hasClass("survey_fields"))&&e.parent().find("input.set_math_result").trigger("change"),e.parent().find("input.set_math_result").trigger("do_nf_math_event")}!function(e){function i(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}var s,a,n;function t(e,t){(s(e,t)?n:a)(e,t)}n="classList"in document.documentElement?(s=function(e,t){return e.classList.contains(t)},a=function(e,t){e.classList.add(t)},function(e,t){e.classList.remove(t)}):(s=function(e,t){return i(t).test(e.className)},a=function(e,t){s(e,t)||(e.className=e.className+" "+t)},function(e,t){e.className=e.className.replace(i(t)," ")});var r={hasClass:s,addClass:a,removeClass:n,toggleClass:t,has:s,add:a,remove:n,toggle:t};"function"==typeof define&&define.amd?define(r):e.classie=r}(window),Number.prototype.format=function(e,t,i,s){t="\\d(?=(\\d{"+(t||3)+"})+"+(0<e?"\\b":"$")+")",e=this.toFixed(Math.max(0,~~e));return(s?e.replace(".",s):e).replace(new RegExp(t,"g"),"$&"+(i||","))};var the_field="";function clearFileInput(e){var t=e.clone();e.append(t),e.remove()}function is_inArray(e,t){for(var i=t.length,s=0;s<i;s++)if(t[s]==e)return!0;return!1}function run_nf_reanimate(e){e.removeClass(e.attr("data-animation-name")),e.removeClass("wow"),e.removeClass("animated"),e.css("animation-name",""),e.css("visibility","visible"),setTimeout(function(){e.addClass("animated"),e.addClass("test"),e.addClass(e.attr("data-animation-name"))},100)}function run_nf_cl_animations(e,t,i){var s,a;e.attr("data-animation-name")?(a=e.attr("data-animation-name"),s=0,e.attr("data-wow-delay")&&(s=(s=e.attr("data-wow-delay")).replace("s","")),a=(a=a.replace("In","Out")).replace("Down","Up"),e.removeClass(e.attr("data-animation-name")),e.removeClass("wow"),e.removeClass("animated"),e.removeClass(a),e.css("animation-name",""),e.addClass("animated"),"show"==t?(nf_replace_tags(i,e),e.hasClass("animation_exe")||setTimeout(function(){setTimeout(function(){e.show(),e.addClass(e.attr("data-animation-name")),e.css("visibility","visible"),e.addClass("animation_exe")},s)},100)):(e.addClass(a),setTimeout(function(){e.hide(),e.removeClass("animation_exe")},100))):"show"==t?(e.show(),nf_replace_tags(i,e)):e.hide()}var get_pressed_key="";function IsSafari(){var e=-1<navigator.userAgent.toLowerCase().indexOf("safari/");return-1<navigator.userAgent.toLowerCase().indexOf("chrome/")&&(e=!1),-1<navigator.userAgent.toLowerCase().indexOf("opera/")&&(e=!1),e}function isNumber(e){return""==e||(e=e.replace(",",""),!isNaN(parseFloat(e))&&isFinite(e))}function run_con_action(e,t){var i,s;"show"==t&&jQuery("#"+e).show(),"hide"==t&&(jQuery("#"+e).hide(),setup_ui_element(s=(i=jQuery("#"+e)).clone()),i.before(s),i.remove()),"slideDown"==t&&jQuery("#"+e).slideDown("slow"),"slideUp"==t&&jQuery("#"+e).slideUp("slow"),"fadeIn"==t&&jQuery("#"+e).fadeIn("slow"),"fadeOut"==t&&jQuery("#"+e).fadeOut("slow")}function reverse_con_action(e,t){var i,s;"show"==t&&(jQuery("#"+e).hide(),setup_ui_element(s=(i=jQuery("#"+e)).clone()),i.before(s),i.remove()),"hide"==t&&jQuery("#"+e).show(),"slideDown"==t&&jQuery("#"+e).slideUp("slow"),"slideUp"==t&&jQuery("#"+e).slideDown("slow"),"fadeIn"==t&&jQuery("#"+e).fadeOut("slow"),"fadeOut"==t&&jQuery("#"+e).fadeIn("slow")}function convert_time_to_24h(e){var t=Number(e.match(/^(\d+)/)[1]),i=Number(e.match(/:(\d+)/)[1]),s=e.match(/\s(.*)$/)[1];"PM"==s&&t<12&&(t+=12),"AM"==s&&12==t&&(t-=12);e=t.toString(),s=i.toString();return t<10&&(e="0"+e),i<10&&(s="0"+s),e+":"+s}function setup_ui_element(s){var e,t,a,n,r,i,o,l,d,c=s.closest(".ui-nex-forms-container").find("#nf_save_form_progress").text();if(c&&"true"==c&&(s.find('input[type="text"]').inputStore({expire:120,name:s.find("input").attr("name")}),s.find('input[type="radio"]').inputStore({expire:120,name:s.find("input").attr("name")}),s.find('input[type="checkbox"]').inputStore({expire:120,name:s.find("input").attr("name")}),s.find("textarea").inputStore({expire:120,name:s.find("textarea").attr("name")}),s.find("select").inputStore({expire:120,name:s.find("select").attr("name")})),jQuery("div.ui-nex-forms-container").find(".customcon").each(function(){s.attr("id")!=jQuery(this).attr("data-target")||"show"!=jQuery(this).attr("data-action")&&"slideDown"!=jQuery(this).attr("data-action")&&"fadeIn"!=jQuery(this).attr("data-action")||jQuery("div.ui-nex-forms-container #"+s.attr("id")).hide()}),s.hasClass("md-datepicker")&&(s.addClass("date"),s.removeClass("md-datepicker")),s.hasClass("md-time-picker")&&(s.addClass("time"),s.removeClass("md-time-picker")),s.hasClass("jq-datepicker")&&(s.addClass("date"),s.removeClass("jq-datepicker")),s.hasClass("jq-time-picker")&&(s.addClass("time"),s.removeClass("jq-time-picker")),s.hasClass("date")||s.hasClass("md-datepicker")){var u,h=s.find("#datetimepicker").attr("data-enabled-days");h&&(u=h.split(","));var f=s.find("#datetimepicker").attr("data-disabled-dates");if(f)for(var p=new Date,m=f.split(","),v=new Array,g=0;g<m.length;g++)if(strstr(m[g],"today")||strstr(m[g],"link")){var _,y=s.closest("form"),b=m[g];(M=/\{{2}(.*?)\}{2}/g)&&(_=b.match(M));var j="",k="",x="";if(_)for(var Q,C=_.length,w=0;w<C;w++)j=_[w].replace("{{","").replace("}}",""),k="radio"==(x=y.find('[name="'+j+'"]')).attr("type")?y.find('[name="'+j+'"]:checked').val():"checkbox"==x.attr("type")?x.prop("checked")?x.closest(".form_field").find("input.the_value").val():"":y.find('[name="'+j+'"]').val(),x.attr("data-linked-to-picker")||x.attr("data-linked-to-picker","linked"),"linked-up"!=x.attr("data-linked-to-picker")&&x.on("nf_reset_datepicker",function(){console.log("TEST"),s.find("#datetimepicker").datetimepicker("destroy"),s.find(".bootstrap-datetimepicker-widget").remove(),setup_ui_element(jQuery(s)),s.find(".bootstrap-datetimepicker-widget").last().remove()}),x.closest(".form_field").hasClass("date")&&strstr(m[g],"link")&&(Q=moment(k,x.closest("#datetimepicker").attr("data-format")),p=new Date(moment(Q).year(),moment(Q).month(),moment(Q).date())),b=b.replace(_[w],k);var $=/\[{1}(.*?)\]{1}/g;if(F=b.match($)){var I=F[0].replace("]","").replace("[",""),S="";p.getMonth()+1<10&&(S="0");for(var T=0;T<=I;T++)v[g+T]=p.getFullYear()+"/"+S+(p.getMonth()+1)+"/"+(p.getDate()+T)}else v[g]=p.getFullYear()+"/"+S+(p.getMonth()+1)+"/"+p.getDate()}else v[g]=m[g];var A=new Date,c="";A.getMonth()+1<10&&(c="0");var M,F,h=A.getFullYear()+"/"+c+(A.getMonth()+1)+"/"+A.getDate(),f=s.find("#datetimepicker").attr("data-format")?s.find("#datetimepicker").attr("data-format"):"MM/DD/YYYY",c=s.find("#datetimepicker").attr("data-min-date")?s.find("#datetimepicker").attr("data-min-date"):"1"==s.find("#datetimepicker").attr("data-disable-past-dates")&&h,A=!!s.find("#datetimepicker").attr("data-max-date")&&s.find("#datetimepicker").attr("data-max-date"),h="true"==s.find("#datetimepicker").attr("data-inline")&&!s.hasClass("required");c&&((M=/\{{2}(.*?)\}{2}/g)&&(F=c.match(M)),F&&(y=s.closest("form"),j=F[0].replace("{{","").replace("}}",""),x=y.find('[name="'+j+'"]'),y.find('[name="'+j+'"]').closest("#datetimepicker").attr("data-link-min-date",s.find("input").attr("name")),c=!!x.val()&&moment(x.val()).format("MM/DD/YYYY"))),A&&((M=/\{{2}(.*?)\}{2}/g)&&(F=A.match(M)),F&&(y=s.closest("form"),j=F[0].replace("{{","").replace("}}",""),x=y.find('[name="'+j+'"]'),y.find('[name="'+j+'"]').closest("#datetimepicker").attr("data-link-max-date",s.find("input").attr("name")),A=!1)),s.find("#datetimepicker").datetimepicker({useCurrent:h,allowInputToggle:!0,disabledDates:v||[],keepOpen:"true"==s.find("#datetimepicker").attr("data-keep-open"),widgetPositioning:{vertical:s.find("#datetimepicker").attr("data-position")?s.find("#datetimepicker").attr("data-position"):"bottom",horizontal:"auto"},inline:"true"==s.find("#datetimepicker").attr("data-inline"),minDate:c,maxDate:A||!1,format:f,locale:s.find("#datetimepicker").attr("data-language")?s.find("#datetimepicker").attr("data-language"):"en",defaultDate:"now"==s.find("input").attr("data-value")?"now":"",viewMode:s.find("#datetimepicker").attr("data-viewMode")?s.find("#datetimepicker").attr("data-viewMode"):"days",daysOfWeekDisabled:u||[]})}(s.hasClass("time")||s.hasClass("md-time-picker"))&&((A=s.find("#datetimepicker").attr("data-enabled-hours"))&&(e=A.split(",")),f="",s.find("input").attr("data-value")&&(A=(u=("00-00-00 "+s.find("input").attr("data-value")).split(" "))[1].split(":"),u=u[0].split("-"),f=new Date(u[2],parseInt(u[1],10)-1,u[0],A[0],A[1])),"now"==s.find("input").attr("data-value")&&(f="now"),s.find("#datetimepicker input").datetimepicker({useCurrent:"true"==s.find("#datetimepicker").attr("data-inline"),allowInputToggle:!0,widgetPositioning:{vertical:s.find("#datetimepicker").attr("data-position")?s.find("#datetimepicker").attr("data-position"):"bottom",horizontal:"auto"},inline:"true"==s.find("#datetimepicker").attr("data-inline"),format:"HH:mm",defaultDate:f,locale:s.find("#datetimepicker").attr("data-language")?s.find("#datetimepicker").attr("data-language"):"en",stepping:s.find("#datetimepicker").attr("data-stepping")?s.find("#datetimepicker").attr("data-stepping"):5,enabledHours:e||[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0]})),s.hasClass("icon-select-group")&&s.find(".the-icon-field-container").removeAttr("name"),(s.hasClass("paragraph")||s.hasClass("heading")||s.hasClass("html")||s.hasClass("math_logic"))&&""!=s.find(".the_input_element").attr("data-original-math-equation")&&((e=s.find(".the_input_element").html())&&strstr(e,"{math_result}")&&(t=e.replace("{math_result}",'<span class="math_result">0</span>'),s.find(".the_input_element").html(t)),set_up_math_logic(s.find(".the_input_element")),set_up_math_logic(s.find(".set_math_result")),run_math_logic(s.find(".the_input_element"),!0)),s.hasClass("digital-signature")&&s.find(".js-signature").jqSignature(),s.hasClass("field-replication-enabled")&&(strstr(s.find(".the_input_element").attr("name"),"[")||s.find(".the_input_element").attr("name",s.find(".the_input_element").attr("name")+"[]")),(s.hasClass("text")||s.hasClass("textarea"))&&""!=s.find(".the_input_element").attr("data-default-value")&&s.find(".the_input_element").val(s.find(".the_input_element").attr("data-default-value")),s.hasClass("datetime")&&s.find("#datetimepicker").datetimepicker({format:s.find("#datetimepicker").attr("data-format")?s.find("#datetimepicker").attr("data-format"):"MM/DD/YYYY hh:mm A",locale:s.find("#datetimepicker").attr("data-language")?s.find("#datetimepicker").attr("data-language"):"en"}),s.hasClass("touch_spinner")&&(t=s.find("#spinner")).TouchSpin({verticalbuttons:"true"==t.attr("data-verticalbuttons"),initval:parseFloat(t.attr("data-starting-value")),min:parseFloat(t.attr("data-minimum")),max:parseFloat(t.attr("data-maximum")),step:parseFloat(t.attr("data-step")),decimals:parseInt(t.attr("data-decimals")),boostat:5,maxboostedstep:10,postfix:t.attr("data-postfix-icon")?'<span class="'+t.attr("data-postfix-icon")+" "+t.attr("data-postfix-class")+'">'+t.attr("data-postfix-text")+"</span>":"",prefix:t.attr("data-prefix-icon")?'<span class="'+t.attr("data-prefix-icon")+" "+t.attr("data-prefix-class")+'">'+t.attr("data-prefix-text")+"</span>":"",buttondown_class:"btn "+t.attr("data-down-class"),buttonup_class:"btn "+t.attr("data-up-class")}),s.hasClass("color_pallet")&&s.find("#colorpalette").colorPalette().on("selectColor",function(e){s.find("#selected-color").val(e.color),s.find("#selected-color").trigger("change"),s.find(".input-group-addon").css("background",e.color)}),s.hasClass("slider")&&(a=s.find("#slider").attr("data-starting-value"),r=(n=s.find("#slider")).attr("data-min-value"),i=n.attr("data-max-value"),o=n.attr("data-starting-value"),l=n.attr("data-step-value"),s.find("#slider").slider({range:"min",min:parseFloat(r),max:parseFloat(i),value:parseFloat(o),step:parseFloat(l),slide:function(e,t){var i;nf_isFloat(l)?(i=l.split(".")[1].length,s.find(".count-text").html(n.attr("data-count-text").replace("{x}",parseFloat(t.value).format(i)))):s.find(".count-text").html(n.attr("data-count-text").replace("{x}",parseFloat(t.value).format(0))),s.find("input").val(t.value),s.find("input").trigger("change")},create:function(e,t){a='<span class="count-text">'+n.attr("data-count-text").replace("{x}",o||r)+"</span>",n.find(".ui-slider-handle").html('<span id="icon" class="'+n.attr("data-dragicon")+'"></span> '+a).addClass(n.attr("data-dragicon-class")).removeClass("ui-state-default"),s.find("input").val(parseFloat(o)),s.find("input").trigger("change");var i=n.find(".ui-slider-handle");i.removeClass("btn").removeClass("btn-default"),i.css("background",n.attr("data-handel-background-color")),i.css("border-color",n.attr("data-handel-border-color")),i.css("color",n.attr("data-text-color")),n.find(".ui-slider-range").css("background","#f2f2f2"==n.attr("data-fill-color")?"#ddd":n.attr("data-fill-color"))}})),s.hasClass("md-slider")&&(a=s.find("#slider").attr("data-starting-value"),r=(n=s.find("#slider")).attr("data-min-value"),i=n.attr("data-max-value"),o=n.attr("data-starting-value"),l=n.attr("data-step-value"),s.find("#slider").slider({range:"min",min:parseInt(r),max:parseInt(i),value:parseInt(o),step:parseInt(l),slide:function(e,t){s.find(".count-text").html(n.attr("data-count-text").replace("{x}",parseInt(t.value).format(0))),s.find("input").val(t.value),s.find("input").trigger("change")},create:function(e,t){a='<span class="noUi-tooltip"><span class="count-text">'+n.attr("data-count-text").replace("{x}",(o?parseInt(o):parseInt(r)).format(0))+"</span></span>",n.find(".ui-slider-handle").html(a).addClass(n.attr("data-dragicon-class")).removeClass("ui-state-default"),n.find(".ui-slider-handle").addClass("noUi-handle noUi-handle-lower ").removeClass("btn").removeClass("btn-default")}})),s.hasClass("star-rating")&&(s.find("#star").raty({number:parseInt(s.find("#star").attr("data-total-stars")),scoreName:format_illegal_chars(s.find(".the_label").text()),half:"false"!=s.find("#star").attr("data-enable-half"),starHalf:s.find("#star").attr("data-starHalf")?s.find("#star").attr("data-starHalf"):"fa fa-star-half ",starOff:s.find("#star").attr("data-starOff")?s.find("#star").attr("data-starOff")+" set_animation_fast zoomIn":"fa fa-star-o set_animation_fast zoomIn",starOn:s.find("#star").attr("data-starOn")?s.find("#star").attr("data-starOn")+"  set_animation_fast bounceIn":"fa fa-star set_animation_fast bounceIn",styleHalf:s.find("#star").attr("data-stylehalf")?s.find("#star").attr("data-stylehalf"):"#ec971f",styleOff:s.find("#star").attr("data-styleoff")?s.find("#star").attr("data-styleoff"):"#bbb",styleOn:s.find("#star").attr("data-styleon")?s.find("#star").attr("data-styleon"):"#ec971f",size:s.find("#star").attr("data-size")?s.find("#star").attr("data-size"):"25"}),s.find("#star input").attr("name",s.find("#star").attr("data-input-name"))),s.hasClass("email"),s.hasClass("tags")&&(s.find(".input-group").attr("class")?((d=s.find("input#tags")).detach(),s.find(".input-group-addon").hasClass("postfix")?d.insertBefore(s.find(".input-group-addon")):d.insertAfter(s.find(".input-group-addon"))):d=s.find("input#tags"),d.tagsinput({maxTags:d.attr("data-max-tags")?d.attr("data-max-tags"):""}),s.find(".bootstrap-tagsinput input").css("color",d.attr("data-text-color")),s.find(".bootstrap-tagsinput").css("border-color",d.attr("data-border-color")),s.find(".bootstrap-tagsinput").css("background-color",d.attr("data-background-color")),s.find(".bootstrap-tagsinput").addClass("error_message").addClass("the_input_element"),s.find(".bootstrap-tagsinput").addClass("form-control"),s.find(".bootstrap-tagsinput").attr("data-placement",d.attr("data-placement")),s.find(".bootstrap-tagsinput").attr("data-error-class",d.attr("data-error-class")),s.find(".bootstrap-tagsinput").attr("data-content",d.attr("data-content")),s.find("input").removeClass("the_input_element")),s.hasClass("autocomplete")&&(d=(d=s.find("div.get_auto_complete_items").text()).split("\n"),s.find("#autocomplete").autocomplete({source:d})),jQuery(".field_"+s.attr("id")).attr("data-target")&&(s.find('input[type="text"]').addClass("has_con"),s.find('input[type="hidden"]').addClass("has_con"),s.find("textarea").addClass("has_con"),s.find("select").addClass("has_con"),s.find('input[type="radio"]').addClass("has_con"))}function format_illegal_chars(e){if(e){"name"!=(e=e.toLowerCase())&&"page"!=e&&"post"!=e&&"id"!=e||(e="_"+e);for(var t="",i=0;i<e.length;i++)-1!="-+=!@#$%^&*()*{}[]:;<>,.?~`|/'".indexOf(e.charAt(i))?e.replace(e.charAt(i),""):" "==e.charAt(i)?t+="_":t+=e.charAt(i);return t}}function colorToHex(e){if(e){if("#"===e.substr(0,1))return e;var t=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(e);if(!t)return"#FFF";var i=parseInt(t[2]),e=parseInt(t[3]),i=parseInt(t[4])|e<<8|i<<16;return t[1]+"#"+i.toString(16)}}function strstr(e,t,i){return-1!=(e+="").indexOf(t)}function nf_str_to_lower(e){return e=e&&e.toLowerCase()}function show_nf_error(e,t){e.addClass("nf-has-error"),e.find(".success_msg").remove();var i="",s="";e.hasClass("appendix_field")||e.find(".error_msg").attr("class")||(e.hasClass("md-select")?e.find("i.material-icons").attr("class")?e.find(".select-wrapper").parent().append('<div class="error_msg indent fadeInRight animated">'+t+"</div>"):e.find(".select-wrapper").parent().append('<div class="error_msg fadeInRight animated">'+t+"</div>"):(e.find(".error_message").hasClass("input-lg")&&(s="input_large"),e.find(".input-group-addon").hasClass("prefix")||(i="extra_padding"),e.find("i.material-icons").attr("class")?e.find(".error_message").parent().after('<div class="error_msg indent fadeInRight animated">'+t+"</div>"):e.hasClass("material_field")||(e.hasClass("classic_error_style")?e.hasClass("error_left")?e.find(".error_message").parent().after('<div class="error_msg indent fadeInLeft animated">'+t+"</div>"):e.find(".error_message").parent().after('<div class="error_msg indent fadeInRight animated">'+t+"</div>"):e.find(".error_message").parent().after('<div data-toggle="tooltip" data-title="'+t+'" title="'+t+'" class="error_msg modern '+s+" "+i+'"><i class="fa fa-warning"></i></div></div>')),jQuery(".appendix_field .error_msg").remove(),e.removeClass("has_success"),e.addClass("has_error")),jQuery('.error_msg[data-toggle="tooltip"]').tooltip_bs())}function hide_nf_error(e){var t,i;e.hasClass("has_error")&&(e.removeClass("nf-has-error"),e.removeClass("has_error"),e.find(".input_container").removeClass("animated2").removeClass("shake"),i=t="",e.find(".success_msg").attr("class")||(e.find(".error_message").hasClass("input-lg")&&(i="input_large"),e.find(".input-group-addon").hasClass("prefix")||(t="extra_padding"),e.hasClass("radio-group")||e.hasClass("check-group")||e.hasClass("multi-image-select-group")||e.hasClass("single-image-select-group")||e.find(".error_message").parent().after('<div class="success_msg modern '+i+" "+t+' "><i class="fa fa-check"></i></div>'),e.find(".error_msg").remove(),e.addClass("has_success"),e.find(".success_msg.modern").addClass("animated").addClass("bounceIn"),jQuery(".appendix_field .success_msg").remove(),setTimeout(function(){e.removeClass("has_success"),e.find(".success_msg").hide()},1750)))}function nf_get_total_steps(e){return e.find(".step").length}function nf_replace_tags(e,t){var i=t.html();if(i){var s=/\{{2}(.*?)\}{2}/g,a=i.match(s),n="",r="",o="";if(!t.hasClass("date"))if(a)for(var l=a.length,d=0;d<l;d++)n=a[d].replace("{{","").replace("}}",""),o=e.find('[name="'+n+'"]'),"0"!=(r="radio"==o.attr("type")?e.find('[name="'+n+'"]:checked').val():"checkbox"==o.attr("type")?o.prop("checked")?o.closest(".form_field").find("input.the_value").val():"":e.find('[name="'+n+'"]').val())&&"undefined"!=r?t.html(t.html().replace(a[d],'<span data-field-name="'+n+'">'+r+"</span>")):t.html(t.html().replace(a[d],""));else{s=t.find("span");s&&s.each(function(){(n=jQuery(this).attr("data-field-name"))&&(o=e.find('[name="'+n+'"]'),"0"!=(r="radio"==o.attr("type")?e.find('[name="'+n+'"]:checked').val():"checkbox"==o.attr("type")?o.prop("checked")?o.closest(".form_field").find("input.the_value").val():"":e.find('[name="'+n+'"]').val())&&"undefined"!=r?jQuery(this).html(r):jQuery(this).html(""))})}}}jQuery(document).ready(function(){function s(e){e.find(".out_of_focus").each(function(e){var t=jQuery(this);if(nf_replace_tags(jQuery(this).closest(".v7_container"),t),!strstr(t.attr("style"),"display: none"))return t.hasClass("html_fields")?(setTimeout(function(){t.removeClass("out_of_focus"),t.find("#field_container").addClass("animated"),t.find("#field_container").addClass("pulse_chat")},1e3*e+10*t.find(".the_input_element").text().length),!0):(t.addClass("chat_question"),setTimeout(function(){t.removeClass("out_of_focus"),t.addClass("animated"),t.addClass("fadeIn")},1e3*e),!1)})}jQuery.fn.isInViewport=function(){var e=jQuery(this).offset().top,t=e+jQuery(this).outerHeight(),i=jQuery(window).scrollTop(),s=i+jQuery(window).height();return i<t&&e<s},jQuery("link#arial").remove(),jQuery("link#bookman").remove(),jQuery("link#century_gothic").remove(),jQuery("link#comic_sans_ms").remove(),jQuery("link#courier").remove(),jQuery("link#garamond").remove(),jQuery("link#georgia").remove(),jQuery("link#helvetica").remove(),jQuery("link#lucida_grande").remove(),jQuery("link#palatino").remove(),jQuery("link#tahoma").remove(),jQuery("link#times").remove(),jQuery("link#trebuchet_ms").remove(),jQuery("link#verdana").remove(),jQuery("#nex-forms button.add_shine").append('<div class="shine"></div>'),jQuery(document).on("mouseover","#nex-forms button.add_shine",function(){var e=jQuery(this);e.addClass("do_shine"),e.find(".shine").addClass("animated"),e.find(".shine").addClass("fadeOut"),e.find(".shine").css("transform","skewX(-20deg) translateX("+(e.width()+200)+"px)"),setTimeout(function(){e.find(".shine").removeClass("fadeOut"),e.find(".shine").removeClass("animated"),e.find(".shine").attr("style",""),e.removeClass("do_shine")},400)}),jQuery('#nex-forms input[type="text"]').each(function(){jQuery(this).attr("data-input-mask")&&jQuery(this).mask(jQuery(this).attr("data-input-mask")),jQuery(this).closest(".form_field").hasClass("date")||jQuery(this).closest(".form_field").hasClass("time")?(jQuery(this).val(""),jQuery(this).attr("autocomplete","0")):jQuery(this).attr("data-value")&&(jQuery(this).closest(".form_field").hasClass("date")||jQuery(this).closest(".form_field").hasClass("time")?jQuery(this).val(""):jQuery(this).val(jQuery(this).attr("data-value")))}),jQuery("#nex-forms textarea").each(function(){jQuery(this).attr("data-value")&&jQuery(this).val(jQuery(this).attr("data-value"))}),jQuery(document).on("mouseenter",".bootstrap-datetimepicker-widget",function(){jQuery(this).addClass("over-picker")}),jQuery(document).on("mouseleave",".bootstrap-datetimepicker-widget",function(){jQuery(this).removeClass("over-picker")}),jQuery(document).on("focus",".form_field .form-control",function(){jQuery(this).closest(".form_field").hasClass("is_focused")||jQuery(this).closest(".form_field").addClass("is_focused"),jQuery(this).closest(".form_field").hasClass("is_typing")||jQuery(this).closest(".form_field").addClass("is_typing")}),jQuery(document).on("blur",".form_field .form-control",function(){""!=jQuery(this).val()||""!=jQuery(this).attr("placeholder")&&jQuery(this).attr("placeholder")||jQuery(this).closest(".form_field").removeClass("is_focused"),jQuery(this).closest(".form_field").removeClass("is_typing")}),jQuery(".v7_container").each(function(){jQuery(this).hasClass("form_type_conversational")&&jQuery(this).find(".form_field").each(function(e){jQuery(this).hasClass("html_fields")&&jQuery(this).append('<input type="text" class="the_input_element cf_dummy_field" name="cf_dummy_field" value="" />'),jQuery(this).addClass("field_num_"+e),jQuery(this).attr("data-field-num",e)})}),jQuery(document).on("keydown","#nex-forms .form_type_conversational form input, #nex-forms .form_type_conversational form textarea, #nex-forms .form_type_conversational form select",function(e){if(13==e.which){e.preventDefault();for(var t=jQuery(this).closest(".v7_container"),i="",s=parseInt(jQuery(this).closest(".form_field").attr("data-field-num"));s<100;s++)if(t.find(".form_field.field_num_"+(s+1)).is(":visible")){i=t.find(".form_field.field_num_"+(s+1));break}e=i.position();i.find("input, select, textarea, button").first().focus(),i.find("input, select, textarea, button").first().trigger("focus");var a=!1;i.find('.the-radios input[type="radio"]').each(function(){jQuery(this).prop("checked")&&(a=!0)}),a||(i.find('.the-radios input[type="radio"]').first().prop("checked",!0),i.find('.the-radios input[type="radio"]').first().trigger("change"));var n=!1;return i.find(".icon-holder:not(.default-selected-icon)").each(function(){jQuery(this).find('input[type="radio"]').prop("checked")&&(n=!0)}),n||i.find(".icon-container .icon-holder").first().find('input[type="radio"]').trigger("click"),t.find(".form_field.active").removeClass("active"),i.addClass("active"),jQuery("html, body").animate({scrollTop:e.top+300},500),!1}}),jQuery(document).on("focus","#nex-forms .form_type_conversational form input, #nex-forms .form_type_conversational form textarea, #nex-forms .form_type_conversational form select, #nex-forms .form_type_conversational form button",function(e){jQuery(this).hasClass("check")&&jQuery(this).closest("label").addClass("check_on_focus"),jQuery(this).parent().hasClass("icon-holder")&&jQuery(this).parent().addClass("check_on_focus"),e.preventDefault();var t=jQuery(this).closest(".v7_container"),e=jQuery(this).closest(".form_field");t.find(".form_field.active").removeClass("active");var i=!1;e.find('#the-radios input[type="radio"]').each(function(){jQuery(this).prop("checked")&&(i=!0)}),i||(e.find('#the-radios input[type="radio"]').first().prop("checked",!0),e.find('#the-radios input[type="radio"]').first().trigger("change"));var s=!1;e.find(".icon-holder:not(.default-selected-icon)").each(function(){jQuery(this).find('input[type="radio"]').prop("checked")&&(s=!0)}),s||e.find(".icon-container .icon-holder").first().find('input[type="radio"]').trigger("click"),e.addClass("active");e=e.position();jQuery("html, body").animate({scrollTop:e.top+300},500)}),jQuery(document).on("blur",'#nex-forms .form_type_conversational form input[type="checkbox"]',function(e){jQuery(this).closest("label").removeClass("check_on_focus"),jQuery(this).parent().removeClass("check_on_focus")}),jQuery(".v7_container").each(function(){jQuery(this).hasClass("form_type_chat")&&(jQuery(this).find(".form_field").each(function(e){0==e&&jQuery(this).addClass("html_fields"),jQuery(this).addClass("out_of_focus"),jQuery(this).addClass("field_num_"+e),jQuery(this).attr("data-field-num",e)}),s(jQuery(this)))}),jQuery(document).on("change",'#nex-forms .form_type_chat form input[type="radio"], #nex-forms .form_type_chat form input[type="checkbox"], .form_type_chat form select',function(e){var t=jQuery(this),i=t.closest(".v7_container");t.closest(".form_field").removeClass("chat_question"),t.closest(".form_field").addClass("chat_answered"),setTimeout(function(){t.closest(".form_field").prepend('<div class="user_answer">'+t.closest(".form_field").find(".the_value").val()+"</div>")},200),setTimeout(function(){s(i)},400)}),jQuery(document).on("keydown","#nex-forms .form_type_chat form input, #nex-forms .form_type_chat form textarea, #nex-forms .form_type_chat form select",function(e){var t;13==e.which&&(jQuery(this).closest(".form_field").removeClass("chat_question"),jQuery(this).closest(".form_field").addClass("chat_answered"),jQuery(this).closest(".form_field").prepend('<div class="user_answer">'+jQuery(this).val()+"</div>"),e.preventDefault(),t=jQuery(this).closest(".v7_container"),setTimeout(function(){s(t)},500))}),jQuery(this).closest("form").find("input").removeAttr("disabled"),jQuery(".ui-nex-forms-container").each(function(){var e=jQuery(this),s=jQuery(this).find("form").attr("id");e.find(":disabled").each(function(){e.find("form").append('<input type="hidden" name="'+jQuery(this).attr("name")+'" value="'+jQuery(this).val()+'" />')}),e.find(".the-radios label").each(function(){var e=jQuery(this),t=jQuery(this).closest(".form_field"),i=jQuery(this).find("input"),t=s+"_"+t.attr("id")+"_"+i.attr("name")+"_"+i.attr("value")+"_"+format_illegal_chars(jQuery(this).find(".input-label").text());e.attr("for",t),i.attr("id",t)})}),jQuery(".ui-nex-forms-container").each(function(){jQuery(this).find(".step").last().addClass("last_step")}),jQuery(document).on("change",'.upload_fields input[type="file"]',function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("change",'.upload_fields input[type="file"]',function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("click","#nex-forms .upload-image .nf_add_image .the_input_element .fileinput-new .fa",function(){jQuery(this).closest(".form_field").find(".the_input_element").trigger("click")}),jQuery(".nex-submit").prop("disabled",!1),jQuery("textarea").closest(".form_field").addClass("multi_line"),jQuery("input").trigger("autoresize"),jQuery("textarea").trigger("autoresize"),jQuery("select.material_select").dropdown(),jQuery(".nex_forms_modal.modal").modal({dismissible:!0,opacity:0,onOpenStart:function(e){},onCloseStart:function(e){}});var i={},a={};jQuery("form.submit-nex-form").each(function(e){i[jQuery(this).attr("id")]=!1,a[jQuery(this).attr("id")]=!1});var n=jQuery("#nf_ajax_url").text();function r(){jQuery("#nex-forms .is_grid.grid-replication-enabled").each(function(e){var i=e+1,s=format_illegal_chars(jQuery(this).attr("data-grid-name"));jQuery(this).find("input, select, textarea").each(function(e){var t=jQuery(this).attr("id");"file"==jQuery(this).attr("type")?jQuery(this).attr("name","gu__"+s+"__"+jQuery(this).attr("data-original-name")+"[]"):(jQuery(this).attr("name",s+"["+i+"]["+jQuery(this).attr("data-original-name")+"]"),jQuery(this).attr("id",t+i),jQuery(this).closest("label").attr("for",t+i))})})}jQuery(window).on("load resize scroll",function(){for(var e in i){var t;jQuery("form#"+e).isInViewport()&&0==i[e]&&(t={action:"nf_add_form_view",nex_forms_id:jQuery("form#"+e).find('input[name="nex_forms_Id"]').val()},jQuery.post(n,t,function(e){}),i[e]=!0)}}),jQuery(document).on("click",'form[name="nex_form"]',function(){var e,t=jQuery(this);0==a[t.attr("id")]&&(e={action:"nf_add_form_interaction",nex_forms_id:t.find('input[name="nex_forms_Id"]').val()},jQuery.post(n,e,function(e){}),a[t.attr("id")]=!0)}),jQuery(document).on("change",'input[type="file"][multiple]',function(e){hide_nf_error(jQuery(this).closest(".form_field"));for(var t=this.files,i=jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-size-pf")?parseFloat(jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-size-pf")):0,s=jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-size-overall")?parseFloat(jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-size-overall")):0,a=jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-files")?parseFloat(jQuery(this).closest(".form_field").find(".the_input_element").attr("data-max-files")):0,n="",r=0,o=0;o<t.length;o++){var l=(t[o].size/1048576).toFixed(2);if(n+='<li class="file-item"><i class="fa fa-file-o"></i>&nbsp;&nbsp;'+t[o].name+" - "+l+"MB</li>",r+=parseFloat(l),0<i&&parseFloat(l)>i){var d=jQuery(this).closest(".form_field").find(".error_message").attr("data-max-per-file-message").replace("{x}",i);return show_nf_error(jQuery(this).closest(".form_field"),d),!1}var c=t[o].name,l=(l=jQuery(this).closest(".form_field").parent().find("div.get_file_ext").text()).split("\n"),c=c.substr(2+(~-c.lastIndexOf(".")>>>0));if(jQuery.inArray(c,l)<0)return show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-secondary-message")),!1}if(0<s&&s<r){var d=jQuery(this).closest(".form_field").find(".error_message").attr("data-max-all-file-message").replace("{x}",s);return show_nf_error(jQuery(this).closest(".form_field"),d),!1}if(0<a&&t.length>a){d=jQuery(this).closest(".form_field").find(".error_message").attr("data-file-upload-limit-message").replace("{x}",a);return show_nf_error(jQuery(this).closest(".form_field"),d),!1}return jQuery(this).closest(".form_field").find("ul.file_list").attr("class")?jQuery(this).closest(".form_field").find("ul.file_list").html(n):jQuery(this).closest(".form_field .input_container").append('<ul class="file_list">'+n+"</ul>"),setTimeout(function(){jQuery(this).closest(".form_field").find("span.fileinput-filename").text(t.length+" Files Selected - "+r.toFixed(2)+"MB")},100),0==t.length&&(jQuery(this).closest(".form_field").find("ul.file_list").remove(),jQuery(this).closest(".form_field").hasClass("required")&&(d=jQuery(this).closest(".form_field").find(".error_message").attr("data-error-message"),show_nf_error(jQuery(this).closest(".form_field"),d))),!1}),jQuery(".md-slider").each(function(e){var t=jQuery(this).find(".slider"),i=t.attr("data-starting-value");setTimeout(function(){t.parent().find("input.the_slider").val(i),t.parent().find("input.the_slider").trigger("change")},e+10)}),jQuery('#nex-forms input[type="file"]').each(function(e){jQuery(this).val("")}),jQuery(document).on("click",".input-group-addon.recreate-this-field",function(){var e=jQuery(this).parent().clone();jQuery(this).parent().parent().append(e),jQuery(this).parent().append('<span class="input-group-addon delete-this-field"><i class="fa fa-minus"></i></span>'),jQuery(this).remove()}),jQuery(document).on("click",".input-group-addon.delete-this-field",function(){jQuery(this).parent().remove()}),jQuery(document).on("mouseup",".js-signature canvas",function(){jQuery(this).parent().parent().find("textarea").val(jQuery(this).parent().parent().find(".js-signature").jqSignature("getDataURL"))}),jQuery(document).on("touchend",".js-signature canvas",function(){jQuery(this).parent().parent().find("textarea").val(jQuery(this).parent().parent().find(".js-signature").jqSignature("getDataURL"))}),jQuery(document).on("click",".clear_digital_siganture",function(){jQuery(this).parent().find("textarea").val(""),jQuery(this).parent().find(".js-signature").jqSignature("clearCanvas")}),jQuery('.icon-label-tip [data-toggle="tooltip"]').tooltip_bs({delay:{show:500,hide:100}}),jQuery('.icon-label-tip [data-toggle="tooltip_bs"]').tooltip_bs({delay:{show:500,hide:100}}),"disabled"!=get_wow&&new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0}).init(),jQuery(document).trigger("scroll","html, body"),jQuery("#nex-forms .numbers_only input").on("keyup",function(){var e=(e=jQuery(this).val()).replace(/[^\d\.\,]*/g,"");jQuery(this).val(e)}),jQuery("#nex-forms .text_only input").on("keyup",function(){var e=(e=jQuery(this).val()).replace(/[^a-z]+/gi,"");jQuery(this).val(e)}),jQuery('#nex-forms input[type="text"], #nex-forms textarea').each(function(){var e,t,i;jQuery(this).attr("minlength")&&(t=jQuery(this).val().length,e=jQuery(this).attr("minlength"),jQuery(this).parent().append('<div class="text_counter_holder"><div class="text_counter text-red" style="display:none;">'+t+"/"+e+"</div></div>"),jQuery(this).focus(function(){jQuery(this).parent().find(".text_counter").show(),jQuery(this).parent().find(".text_counter").addClass("animated"),jQuery(this).parent().find(".text_counter").addClass("fadeIn")}),jQuery(this).blur(function(){jQuery(this).parent().find(".text_counter").hide(),jQuery(this).parent().find(".text_counter").removeClass("animated"),jQuery(this).parent().find(".text_counter").removeClass("fadeIn")}),jQuery(this).keyup(function(){jQuery(this).val().length;jQuery(this).val().length<e?jQuery(this).parent().find(".text_counter").addClass("text-red").removeClass("text-light-green"):jQuery(this).parent().find(".text_counter").removeClass("text-red").addClass("text-light-green"),jQuery(this).parent().find(".text_counter").text(jQuery(this).val().length+"/"+e)})),jQuery(this).attr("maxlength")&&(t=jQuery(this).val().length,i=jQuery(this).attr("maxlength"),jQuery(this).parent().append('<div class="text_counter_holder"><div class="text_counter" style="display:none;">'+t+"/"+i+"</div></div>"),jQuery(this).focus(function(){jQuery(this).parent().find(".text_counter").show(),jQuery(this).parent().find(".text_counter").addClass("animated"),jQuery(this).parent().find(".text_counter").addClass("fadeIn")}),jQuery(this).blur(function(){jQuery(this).parent().find(".text_counter").hide(),jQuery(this).parent().find(".text_counter").removeClass("animated"),jQuery(this).parent().find(".text_counter").removeClass("fadeIn")}),jQuery(this).keyup(function(){jQuery(this).val().length;jQuery(this).val().length<=0?jQuery(this).closest(".form_field").removeClass("has_max_lenght"):jQuery(this).closest(".form_field").addClass("has_max_lenght"),jQuery(this).parent().find(".text_counter").text(jQuery(this).val().length+"/"+i)}))}),jQuery(document).on("click",".thumb-icon-holder",function(e){var t=jQuery(this).closest(".form_field");jQuery(this).closest(".radio-inline").hasClass("radio_selected")&&t.closest(".step").hasClass("auto-step")&&(t.closest(".step").hasClass("last_step")?setTimeout(function(){t.closest("form").submit()},500):setTimeout(function(){t.closest(".step").find(".nex-step").trigger("click")},300))}),jQuery(document).on("change",'form .the-radios input[type="radio"], form  .the-radios input[type="checkbox"]',function(e){var t=jQuery(this).closest(".form_field"),i=(jQuery(this).closest("#field_container").attr("data-min-selection")&&parseInt(jQuery(this).closest("#field_container").attr("data-min-selection")),jQuery(this).closest("#field_container").attr("data-max-selection")?parseInt(jQuery(this).closest("#field_container").attr("data-max-selection")):0);hide_nf_error(t),t.hasClass("classic-radio-group")||t.hasClass("classic-check-group")||e.preventDefault();var s,a,n=jQuery(this).closest("label"),r=jQuery(this),o=n.find("a:first"),l=jQuery(this).closest("label"),d=jQuery(this).closest(".input_container"),c=jQuery(this).closest(".form_field"),e=d.attr("data-checked-animation")?d.attr("data-checked-animation"):"fadeInDown",u=d.attr("data-unchecked-animation")?d.attr("data-unchecked-animation"):"fadeOutUp";"radio"===r.prop("type")?(t.find(".radio_selected").removeClass("radio_selected"),t.find("#the-radios a").css("background","rgba(255,255,255,0.9)"),t.find(".check-icon").remove(),o.hasClass("checked")||t.find('input[name="'+r.attr("name")+'"]').each(function(e,t){jQuery(this).prop("checked",!1).parent().find("a:first").removeClass("checked").removeClass("ui-state-active").addClass("ui-state-default").removeClass(jQuery(t).closest(".the-radios").attr("data-checked-class")),o.attr("class","checked"),l.removeClass("radio_selected"),jQuery(this).closest("label").removeClass("ui-state-active")}),t.closest(".step").hasClass("auto-step")&&(t.closest(".step").hasClass("last_step")?setTimeout(function(){t.closest("form").submit()},500):setTimeout(function(){t.closest(".step").find(".nex-step").trigger("click")},300)),r.prop("checked")?(r.prop("checked",!1),o.attr("class","ui-state-default"),o.css("background","rgba(255,255,255,0.2)"),l.removeClass("radio_selected"),o.parent().find(".check-icon").remove(),l.removeClass("ui-state-active")):(t.find(".thumb-icon-holder .thumb-icon").removeClass(e),t.find(".thumb-icon-holder .thumb-icon").addClass(u),setTimeout(function(){t.find(".thumb-icon-holder .thumb-icon."+u).parent().remove()},300),s="#8bc34a",l.closest(".ui-nex-forms-container").hasClass("jquery_ui")&&l.addClass("ui-state-active"),r.prop("checked",!0),o.attr("class","checked"),o.addClass("ui-state-active").removeClass("ui-state-default"),l.addClass("radio_selected"),s=o.closest("#the-radios").data("checked-bg-color")&&""!=o.closest("#the-radios").data("checked-bg-color")?(o.css("background",o.closest("#the-radios").attr("data-checked-bg-color")),o.closest("#the-radios").attr("data-checked-bg-color")):(o.css("background","#8bc34a"),"#8bc34a"),a="rgba(255,255,255)","transparent"!=o.css("color")&&"undefined"!=o.css("color")&&""!=o.css("color")&&"rgba(0, 0, 0, 0)"!=o.css("color")&&(a=o.css("color")),t.hasClass("image-choices-field")?n.find(".thumb-image-outer-wrap").prepend('<div class="thumb-icon-holder"><span style="background: '+s+"; color:"+a+';" class="thumb-icon set_animation_fast '+e+" checked fa "+o.closest(".the-radios").attr("data-checked-class")+'"></span></div>'):o.after('<span style="color:'+a+';" class="check-icon animated zoomInFast checked fa '+o.closest(".the-radios").attr("data-checked-class")+'"></span>'),jQuery(this).closest(".ui-nex-forms-container").hasClass("neumorphism")||(o.addClass("animated").addClass("pulse"),setTimeout(function(){o.removeClass("animated").removeClass("pulse")},1300)))):(r.prop("checked")?(s="#8bc34a",l.closest(".ui-nex-forms-container").hasClass("jquery_ui")&&l.addClass("ui-state-active"),o.attr("class","checked"),o.addClass("ui-state-active").removeClass("ui-state-default"),l.addClass("radio_selected"),s=o.closest("#the-radios").data("checked-bg-color")&&""!=o.closest("#the-radios").data("checked-bg-color")?(o.css("background",o.closest("#the-radios").attr("data-checked-bg-color")),o.closest("#the-radios").attr("data-checked-bg-color")):(o.css("background","#8bc34a"),"#8bc34a"),a="rgba(255,255,255)","transparent"!=o.css("color")&&"undefined"!=o.css("color")&&""!=o.css("color")&&"rgba(0, 0, 0, 0)"!=o.css("color")&&(a=o.css("color")),t.hasClass("image-choices-field")?n.find(".thumb-image-outer-wrap").prepend('<div class="thumb-icon-holder"><span style="background: '+s+"; color:"+a+';" class="thumb-icon set_animation_fast '+e+" checked fa "+o.closest(".the-radios").attr("data-checked-class")+'"></span></div>'):o.after('<span style="color:'+a+';" class="check-icon animated zoomInFast checked fa '+o.closest(".the-radios").attr("data-checked-class")+'"></span>'),jQuery(this).closest(".ui-nex-forms-container").hasClass("neumorphism")||(o.addClass("animated").addClass("pulse"),setTimeout(function(){o.removeClass("animated").removeClass("pulse")},1300))):(o.attr("class","ui-state-default"),o.css("background","rgba(255,255,255,0.2)"),l.removeClass("radio_selected"),o.parent().find(".check-icon").remove(),l.find(".thumb-icon-holder .thumb-icon").removeClass(e),l.find(".thumb-icon-holder .thumb-icon").addClass(u),setTimeout(function(){l.find(".thumb-icon-holder").remove()},300),l.closest(".ui-nex-forms-container").hasClass("jquery_ui")&&l.removeClass("ui-state-active")),i&&(c.find("input:checked").length>=i?(c.find("input:not(:checked)").prop("disabled",!0),c.find("input:not(:checked)").closest("label").addClass("check_disabled")):(c.find("input").prop("disabled",!1),c.find("input").closest("label").removeClass("check_disabled"))))}),jQuery(document).on("click",".nf-sticky-contact-form.paddel-right .nf-sticky-paddel",function(){var e=jQuery(this).closest(".nf-sticky-contact-form"),t=e.outerWidth();e.hasClass("open")?(e.removeClass("open"),e.animate({marginRight:-t},300)):(jQuery(".nf-sticky-contact-form.paddel-right.open .nf-sticky-paddel").trigger("click"),e.animate({marginRight:-4},300),e.addClass("open"))}),jQuery(document).on("click",".nf-sticky-contact-form.paddel-left .nf-sticky-paddel",function(){var e=jQuery(this).closest(".nf-sticky-contact-form"),t=e.outerWidth();e.hasClass("open")?(e.removeClass("open"),e.animate({marginLeft:-t},300)):(jQuery(".nf-sticky-contact-form.paddel-left.open .nf-sticky-paddel").trigger("click"),e.animate({marginLeft:-4},300),e.addClass("open"))}),jQuery(document).on("click","#nex-forms .input-group-addon",function(){jQuery(this).closest(".input_container").find("input").focus()}),jQuery("body").prepend('<div id="nex-forms" class="nex-forms nf_popups_holder"></div>'),jQuery(".nex_forms_modal").each(function(){var e=jQuery(this).detach();jQuery(".nf_popups_holder").prepend(e)}),jQuery(document).on("click",".open_nex_forms_popup",function(e){e.preventDefault();var t=jQuery(".nf_popups_holder #nexForms_popup_"+jQuery(this).attr("data-popup-id")).find("form"),e=jQuery(this).attr("data-default-values");if(e)for(var i=e.split(","),s=0;s<i.length;s++){var a=i[s].split("="),n=t.find('input[name="'+a[0].trim()+'"]'),r=a[1].trim();n.hasClass("the_slider")&&(n.parent().find("#slider").slider({value:parseInt(r)}),n.parent().find(".count-text").text(r),n.parent().find("input").val(parseInt(r)),n.parent().find("input").trigger("change")),t.find('select[name="'+a[0]+'"] option').attr("selected",!1),t.find('select[name="'+a[0]+'"] option[value="'+r+'"]').attr("selected","selected"),t.find('input[name="'+a[0]+'[]"]').each(function(){jQuery(this).val()==r&&(jQuery(this).prop("checked",!0),jQuery(this).trigger("change"))}),"text"==n.attr("type")&&n.val(r),"hidden"==n.attr("type")&&n.val(r),"radio"==n.attr("type")&&(n.closest(".icon-container").find("input").each(function(){var e;jQuery(this).val()==r&&(e=jQuery(this).parent(),setTimeout(function(){e.trigger("click")},200))}),n.closest(".the-radios").find('input[type="radio"]').each(function(){jQuery(this).val()==r&&jQuery(this).closest("label").trigger("click")})),t.find('textarea[name="'+a[0]+'"]').val(r)}jQuery("#nexForms_popup_"+jQuery(this).attr("data-popup-id")).modal("open")}),jQuery(document).on("click",".modal-overlay, #nex-forms .modal-close",function(){jQuery.each(parent_css_resets,function(e,t){t.element.css("position",t.position)})}),jQuery(document).on("mouseover",".ui-state-default",function(){jQuery(this).addClass("ui-state-hover")}),jQuery(document).on("mouseleave",".ui-state-default",function(){jQuery(this).removeClass("ui-state-hover")}),jQuery(document).on("keyup","#autocomplete",function(){jQuery(".ui-autocomplete").addClass("dropdown-menu")}),jQuery(document).on("click",".input-group-addon.color-select",function(){jQuery(this).parent().addClass("open")}),jQuery(document).on("click",".selectpicker",function(){jQuery(this).parent().addClass("open")}),jQuery(document).on("click","#star .fa",function(){jQuery(this).parent().find("input").trigger("change")}),jQuery(document).on("click",".bootstrap-touchspin-down, bootstrap-touchspin-up",function(){jQuery(this).parent().parent().find("input").trigger("change")}),jQuery("div.ui-nex-forms-container .zero-clipboard, div.ui-nex-forms-container .field_settings").remove(),jQuery("div.ui-nex-forms-container .grid").removeClass("grid-system"),jQuery("div.ui-nex-forms-container .editing-field-container").removeClass(".editing-field-container"),jQuery("div.ui-nex-forms-container #slider").html(""),jQuery("div.ui-nex-forms-container #star").each(function(){jQuery(this).attr("data-input-name",jQuery(this).find("input").attr("name"))}),"disabled"!=get_raty&&jQuery("div.ui-nex-forms-container #star").raty("destroy"),jQuery("div.ui-nex-forms-container .bootstrap-touchspin-prefix").remove(),jQuery("div.ui-nex-forms-container .bootstrap-select").remove(),jQuery("div.ui-nex-forms-container .bootstrap-touchspin-postfix").remove(),jQuery("div.ui-nex-forms-container .bootstrap-touchspin .input-group-btn").remove(),jQuery("div.ui-nex-forms-container .bootstrap-tagsinput").remove(),jQuery("div.ui-nex-forms-container .editing-field").removeClass("editing-field"),jQuery("div.ui-nex-forms-container .editing-field-container").removeClass(".editing-field-container"),jQuery("div.ui-nex-forms-container").find("div.trash-can").remove(),jQuery("div.ui-nex-forms-container").find("div.draggable_object").hide(),jQuery("div.ui-nex-forms-container").find("div.draggable_object").remove(),jQuery("div.ui-nex-forms-container").find("div.form_field").removeClass("field"),jQuery("div.ui-nex-forms-container .zero-clipboard").remove(),jQuery("div.ui-nex-forms-container").each(function(){jQuery(this).find(".step").hide(),jQuery(this).find(".step").first().show()}),jQuery("div.ui-nex-forms-container .tab-pane").removeClass("tab-pane"),jQuery("input.radio").css("display","block"),jQuery("input.check").css("display","block"),setTimeout(function(){jQuery("#nex-forms .grid-replication-enabled").each(function(e){var t=format_illegal_chars(jQuery(this).attr("data-grid-name"));jQuery(this).wrap('<div class="grid-replication-container" data-grid-name="'+t+'" data-limit="'+jQuery(this).find(".grid_row").attr("data-replication-limit")+'" data-replicated="1"></div>'),jQuery(this).find("input, select, textarea").each(function(){"file"==jQuery(this).attr("type")?(jQuery(this).attr("data-original-name",jQuery(this).attr("name")),jQuery(this).attr("name","gu__"+t+"__"+jQuery(this).attr("name")+"[]")):(jQuery(this).attr("data-original-name",jQuery(this).attr("name")),jQuery(this).attr("name",t+"[1]["+jQuery(this).attr("name")+"]"))})})},400),setTimeout(function(){r()},800),jQuery(document).on("click",".recreate-grid",function(){var e=jQuery(this).closest(".is_grid").clone(),t=jQuery(this).closest(".grid-replication-container"),i=t.attr("data-limit"),s=parseInt(t.attr("data-replicated"));t.attr("data-grid-name");s+=1,t.attr("data-replicated",s),e.find(".grid_replicate").html('<div class="remove-grid"><span class="fa fa-minus"></span></div></span></div>'),e.find(".bootstrap-touchspin-prefix").remove(),e.find(".bootstrap-touchspin-postfix").remove(),e.find(".bootstrap-touchspin .input-group-btn").remove(),e.find(".bootstrap-touchspin .input-group-btn-vertical").remove(),e.find(".bootstrap-tagsinput").remove(),e.find("#spinner").unwrap(),jQuery(this).closest(".is_grid").find("input").val(null),jQuery(this).closest(".is_grid").find("select option").prop("selected",!1);var a="",a=(a=e.closest(".is_grid").find("select")).attr("data-selected")?a.attr("data-selected"):"0";e.closest(".is_grid").find("select").val(a),jQuery(this).closest(".is_grid").find("textarea").val("");a=jQuery(this).closest(".is_grid").find(".radio_selected");a.find("input").prop("checked",!1),a.find("a").attr("class","ui-state-default"),a.find("a").css("background","rgba(255,255,255,0.2)"),a.find(".check-icon").remove(),e.find(".form_field").each(function(){setup_ui_element(jQuery(this))}),jQuery(this).closest(".is_grid").find(".fileinput-filename").text(""),jQuery('.fileinput-exists input[type="hidden"]').remove(),e.insertBefore(jQuery(this).closest(".is_grid")),s==i&&t.addClass("limited"),r()}),jQuery(document).on("click",".remove-grid",function(){var e=jQuery(this).closest(".grid-replication-container"),i=e.attr("data-grid-name");e.removeClass("limited");var t=parseInt(e.attr("data-replicated"));--t,e.attr("data-replicated",t),jQuery(this).closest(".is_grid").remove(),e.find(".is_grid").each(function(e){var t=e+1;jQuery(this).find("input, select, textarea").each(function(e){"file"==jQuery(this).attr("type")?jQuery(this).attr("name","gu__"+i+"__"+jQuery(this).attr("data-original-name")+"[]"):jQuery(this).attr("name",i+"["+t+"]["+jQuery(this).attr("data-original-name")+"]")})})}),jQuery(".glyphicon-file").addClass("fas"),jQuery(".glyphicon-file").addClass("fa-file"),jQuery(".glyphicon-file").removeClass("glyphicon"),jQuery(".glyphicon-file").removeClass("glyphicon-file"),jQuery(".color_scheme").each(function(){""==jQuery(this).attr("href")&&jQuery(this).attr("href","#");var e=jQuery(this),t=e.clone();jQuery("head").append(t),e.remove()}),jQuery(document).on("blur","textarea.materialize-textarea, input",function(){jQuery(this).val()||""!=jQuery(this).attr("placeholder")||jQuery(this).parent().find("#md_label").removeClass("active")}),jQuery("input, textarea").attr("autocomplete","enabled"),jQuery("#datetimepicker input").attr("autocomplete","0");var e=jQuery(".nf-sticky-contact-form.paddel-bottom").height(),t=jQuery(".nf-sticky-contact-form .nf-sticky-paddel").height(),o=e+t+3+jQuery(".nf-sticky-contact-form.paddel-bottom .panel-heading").height()-15,e=o-300;jQuery(".nf-sticky-contact-form.paddel-bottom .panel").css("overflow-x","hidden"),300<o&&jQuery(".nf-sticky-contact-form.paddel-bottom .panel").css("overflow-y","scroll").css("height",300-e+t+8+"px"),jQuery(document).on("click",".nf-sticky-contact-form.paddel-bottom .nf-sticky-paddel",function(){var e=jQuery(this).closest(".nf-sticky-contact-form");e.hasClass("open")?(e.removeClass("open"),e.animate({marginBottom:-300},300)):(e.animate({marginBottom:0},300),e.addClass("open"))}),jQuery("div.ui-nex-forms-container .form_field").each(function(e){var t=jQuery(this);jQuery(this).find(".appendix_field").is("div")?t.css("z-index",1e3-e):t.css("z-index",""),setup_ui_element(t),t.hasClass("material_field")&&(t.find("i.material-icons").attr("class")?t.addClass("has_icon"):t.addClass("no_icon")),(t.hasClass("select")||t.hasClass("multi-select")||t.hasClass("radio-group")||t.hasClass("check-group")||t.hasClass("md-select")||t.hasClass("md-multi-select")||t.hasClass("md-radio-group")||t.hasClass("jq-radio-group")||t.hasClass("jq-check-group")||t.hasClass("image-choices-field"))&&(e=t.hasClass("md-select")?t.find("select.the_input_element"):t.find(".the_input_element"),t.append('<input type="hidden" class="the_value" name="real_val__'+e.attr("name")+'">'))}),jQuery(".ui-nex-forms-container select").each(function(){jQuery(this).closest(".form_field").hasClass("md-select")&&jQuery(this).closest(".form_field").hasClass("md-select")?jQuery(this).closest(".form_field").find("input.the_value").val(jQuery(this).closest(".form_field").find("input.select-dropdown").val()):jQuery(this).closest(".form_field").find("input.the_value").val(jQuery(this).find("option:selected").text())}),jQuery(document).on("change",".ui-nex-forms-container select",function(){"linked"!=jQuery(this).attr("data-linked-to-picker")&&"linked-up"!=jQuery(this).attr("data-linked-to-picker")||(jQuery(this).trigger("nf_reset_datepicker"),jQuery(this).attr("data-linked-to-picker","linked-up")),jQuery(this).attr("data-selected",jQuery(this).val()),jQuery(this).closest(".form_field").hasClass("md-select")&&jQuery(this).closest(".form_field").hasClass("md-select")?jQuery(this).closest(".form_field").find("input.the_value").val(jQuery(this).closest(".form_field").find("input.select-dropdown").val()):jQuery(this).closest(".form_field").find("input.the_value").val(jQuery(this).find("option:selected").text());jQuery(this).closest("#field_container").attr("data-min-selection")&&parseInt(jQuery(this).closest("#field_container").attr("data-min-selection"));var e=jQuery(this).closest("#field_container").attr("data-max-selection")?parseInt(jQuery(this).closest("#field_container").attr("data-max-selection")):0;e&&(jQuery(this).find("option:selected").length>=e?(jQuery(this).find("option:not(:selected)").prop("disabled",!0),jQuery(this).find("option:not(:selected)").addClass("option_disabled")):(jQuery(this).find("option").prop("disabled",!1),jQuery(this).find("option").removeClass("option_disabled")))}),jQuery(document).on("click",".md-radio-group .radio_check_input label",function(){var e=jQuery(this);setTimeout(function(){e.closest(".form_field").find("input.the_value").val(e.html())},300)}),jQuery(document).on("change",'.ui-nex-forms-container input[type="radio"]',function(){jQuery(this).closest(".form_field").hasClass("md-radio-group")||jQuery(this).closest(".form_field").find("input.the_value").val(jQuery(this).closest("label").find(".input-label").html())}),jQuery(document).on("change",'.ui-nex-forms-container input[type="checkbox"]',function(){var e="";jQuery(this).closest(".form_field").find(".input-inner a").each(function(){jQuery(this).closest("label").find("input").prop("checked")&&(e+=jQuery(this).closest("label").find(".input-label").text()+", ")}),jQuery(this).closest(".form_field").find("input.the_value").val(e.replace(/,(?=\s*$)/,""))}),jQuery(".radio-group").each(function(){jQuery(this).find(".radio-inline").each(function(){var e;jQuery(this).find(".check-icon").attr("class")&&("checkbox"==(e=jQuery(this).find("input")).attr("type")?(jQuery(this).find("input").prop("checked",!0),jQuery(this).find("input").trigger("change")):setTimeout(function(){e.closest("label").trigger("click")},120))})}),jQuery(".image-choices-field").each(function(){jQuery(this).find(".image-choices-choice").each(function(){var e;jQuery(this).find(".thumb-icon-holder").attr("class")&&(e=jQuery(this).find("input"),jQuery(this).find("input").prop("checked",!0),jQuery(this).find("input").trigger("change"),"checkbox"==e.attr("type")?(jQuery(this).find("input").prop("checked",!0),jQuery(this).find("input").trigger("change")):setTimeout(function(){e.closest("label").trigger("click")},120))})}),jQuery(".popover").remove();var l,o=jQuery(".nf-sticky-contact-form.paddel-top").height()+t+3+jQuery(".nf-sticky-contact-form.paddel-top .panel-heading").height()-15,e=o-300;function d(e){classie.add(e.target.parentNode,"input--filled")}function c(e){""===e.target.value.trim()&&classie.remove(e.target.parentNode,"input--filled")}300<o&&jQuery(".nf-sticky-contact-form.paddel-top .panel").css("overflow-y","scroll").css("height",300-e+t+8+"px"),jQuery(document).on("click",".nf-sticky-contact-form.paddel-top .nf-sticky-paddel",function(){var e=jQuery(this).closest(".nf-sticky-contact-form");e.hasClass("open")?(e.removeClass("open"),e.animate({marginTop:-300},300)):(e.animate({marginTop:-4},300),e.addClass("open"))}),String.prototype.trim||(l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,String.prototype.trim=function(){return this.replace(l,"")}),[].slice.call(document.querySelectorAll("input.input__field, textarea.input__field")).forEach(function(e){""!==e.value.trim()&&classie.add(e.parentNode,"input--filled"),e.addEventListener("focus",d),e.addEventListener("blur",c)})});var file_inputs=new Array,file_ext=new Array;function validate_form(e){var t,i;jQuery('.ui-nex-forms-container input[type="file"]').each(function(){t=jQuery(this).closest(".form_field").find("div.get_file_ext").text(),i=new Array(jQuery(this).attr("name")),strstr(t,",")?i.push(t.split(",")):i.push(t.split("\n")),file_inputs.push(i)});var s=e,d=[],c={requiredClass:"required",customRegex:!1,errors:0,checkboxDefault:0,selectDefault:0,beforeValidation:null,onError:null,onSuccess:null,beforeSubmit:null,afterSubmit:null,onValidationSuccess:null,onValidationFailed:null};c.errors=0,jQuery(s).find("input").each(function(){var e=jQuery(this),t=e.val(),i=e.attr("name");if(e.is("input"))switch(e.attr("type")){case"hidden":e.closest(".form_field").hasClass("required")&&e.closest(".form_field").is(":visible")&&e.closest(".form_field").hasClass("star-rating")&&e.closest(".form_field").is(":visible")&&(t.length<1||""==t?(c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"))):hide_nf_error(e.closest(".form_field")));break;case"text":if(e.hasClass("required")&&e.closest(".form_field").is(":visible")&&!e.closest(".form_field").hasClass("disabled"))if(!e.hasClass("the_slider")||t!=e.parent().find("#slider").attr("data-starting-value")&&""!=t)if(!e.hasClass("the_spinner")||t!=e.attr("data-starting-value")&&""!=t)if(e.hasClass("tags")&&""==t)c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));else{if(t.length<1||""==t){c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));break}if(e.hasClass("email")&&e.is(":visible")){if(IsValidEmail(t)){hide_nf_error(e.closest(".form_field"));break}c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}if(e.hasClass("phone_number")&&e.is(":visible")){if(allowedChars(t,"tel")){hide_nf_error(e.closest(".form_field"));break}c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}if(e.hasClass("numbers_only")&&e.is(":visible")){if(isNumber(t)){if(e.attr("minlength")&&""!=e.attr("minlength")){if(e.val().length<parseInt(e.attr("minlength"))){c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));break}hide_nf_error(e.closest(".form_field"));break}hide_nf_error(e.closest(".form_field"));break}c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}if(e.hasClass("text_only")&&e.is(":visible")){if(allowedChars(t,"text")){hide_nf_error(e.closest(".form_field"));break}c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}if(e.hasClass("url")&&e.is(":visible")){if(validate_url(t)){hide_nf_error(e.closest(".form_field"));break}c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));else c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));else if(e.hasClass("email")&&""!=t&&e.is(":visible")){if(!IsValidEmail(t)){c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else if(e.hasClass("phone_number")&&""!=t&&e.is(":visible")){if(!allowedChars(t,"tel")){c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else if(e.hasClass("numbers_only")&&""!=t&&e.is(":visible")){if(!isNumber(t)){c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else if(e.hasClass("text_only")&&""!=t&&e.is(":visible")){if(!allowedChars(t,"text")){c.errors++,show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else if(e.hasClass("url")&&""!=t&&e.is(":visible")){if(!validate_url(t)){c.errors++,e.attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.attr("data-secondary-message"));break}}else hide_nf_error(e.closest(".form_field"));break;case"password":e.hasClass("required")&&e.is(":visible")?(t.length<1||""==t)&&(c.errors++,show_nf_error(e.closest(".form_field"),e.attr("data-content"))):hide_nf_error(e.closest(".form_field"));break;case"file":if(e.closest(".form_field").hasClass("required")&&e.closest(".form_field").is(":visible")){if(t.length<1||""==t){c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"));break}for(var s=0;s<file_inputs.length;s++){var a=(n=t).substr(2+(~-n.lastIndexOf(".")>>>0));if(e.attr("name")==file_inputs[s][0]){if(!(jQuery.inArray(a,file_inputs[s][1])<0)){hide_nf_error(e.closest(".form_field"));break}c.errors++,e.closest(".form_field").find(".error_message").attr("data-secondary-message")&&show_nf_error(e.closest(".form_field"),e.parent().parent().find(".the_input_element").attr("data-secondary-message"))}}break}if(e.closest(".form_field").hasClass("required")||!e.closest(".form_field").is(":visible")||""==t)break;for(s=0;s<file_inputs.length;s++){var n,a=(n=t).substr(2+(~-n.lastIndexOf(".")>>>0));if(e.attr("name")==file_inputs[s][0]){if(is_inArray(a,file_inputs[s][1])){hide_nf_error(e.closest(".form_field"));break}c.errors++,show_nf_error(e.closest(".form_field"),e.parent().parent().find(".the_input_element").attr("data-secondary-message"))}}break;case"radio":var r=d;if(e.closest(".form_field").hasClass("required")&&e.closest(".form_field").is(":visible")&&r){if(0<=jQuery.inArray(i,r))break;var o=!1;if(e.closest(".form_field").find('input[type="radio"]').each(function(){1==jQuery(this).prop("checked")&&(o=!0)}),o){hide_nf_error(e.closest(".form_field"));break}c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content")),r.push(i)}break;case"checkbox":e.closest("#field_container").attr("data-max-selection")&&parseInt(e.closest("#field_container").attr("data-max-selection"));var l=e.closest("#field_container").attr("data-min-selection")?parseInt(e.closest("#field_container").attr("data-min-selection")):0;e.closest(".form_field").hasClass("required")&&e.closest(".form_field").is(":visible")&&(e.closest(".form_field").find("input:checked").length<=0?(c.errors++,show_nf_error(e.closest(".form_field"),e.closest(".form_field").find(".error_message").attr("data-content"))):(hide_nf_error(e.closest(".form_field")),l&&(e.closest(".form_field").find("input:checked").length<l?(r=(r=e.closest(".form_field").find(".error_message").attr("data-secondary-message")?e.closest(".form_field").find(".error_message").attr("data-secondary-message"):"Minimum selection of "+l+" required").replace("{x}",l,r),c.errors++,show_nf_error(e.closest(".form_field"),r)):hide_nf_error(e.closest(".form_field")))))}}),jQuery(s).find(".digital-signature-data").each(function(){jQuery(this).hasClass("required")&&jQuery(this).parent().find(".js-signature").is(":visible")&&(""==jQuery(this).val()?(c.errors++,show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-content"))):hide_nf_error(jQuery(this).closest(".form_field")))}),jQuery(s).find("textarea").each(function(){jQuery(this).hasClass("required")&&jQuery(this).is(":visible")&&!jQuery(this).closest(".form_field").hasClass("disabled")&&(""==jQuery(this).val()?(c.errors++,show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-content"))):jQuery(this).closest(".form_field").hasClass("text_only")&&jQuery(this).is(":visible")?allowedChars(jQuery(this).val(),"text")||(c.errors++,show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-secondary-message"))):hide_nf_error(jQuery(this).closest(".form_field")))}),jQuery(s).find("select").each(function(){var e,t=jQuery(this).closest("#field_container").attr("data-min-selection")?parseInt(jQuery(this).closest("#field_container").attr("data-min-selection")):0;(jQuery(this).hasClass("required")||jQuery(this).closest(".form_field").hasClass("required"))&&jQuery(this).closest(".form_field").is(":visible")&&(0==jQuery(this).val()||jQuery(this).val()==jQuery(this).attr("data-default-selected-value")?(jQuery(this).closest(".form_field").hasClass("md-select")?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find("select.error_message").attr("data-content")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-content")),c.errors++):(hide_nf_error(jQuery(this).closest(".form_field")),t&&(jQuery(this).closest(".form_field").find("option:selected").length<t?(e=(e=jQuery(this).closest(".form_field").find(".error_message").attr("data-secondary-message")?jQuery(this).closest(".form_field").find(".error_message").attr("data-secondary-message"):"Minimum selection of "+t+" required").replace("{x}",t,e),c.errors++,show_nf_error(jQuery(this).closest(".form_field"),e)):hide_nf_error(jQuery(this).closest(".form_field")))))});var a=jQuery(jQuery(s).find(".nex-submit"));if(0==c.errors)return!0;a.addClass("animated").addClass("shake"),jQuery(s).find(".nex-step").addClass("animated").addClass("shake"),setTimeout(function(){jQuery(s).find(".nex-step").removeClass("animated").removeClass("shake"),a.removeClass("animated").removeClass("shake")},1e3);var n=jQuery("div.error_msg").first();n.closest(".form_field").find("input, select, textarea").focus();var r=n.offset();return setTimeout(function(){r&&!n.closest(".form_field").isInViewport()&&jQuery("html, body").animate({scrollTop:r.top-150},300)},300),!1}function isNumber(e){return""==e||!isNaN(parseFloat(e))&&isFinite(e)}function IsValidEmail(e){if(""==e)return!0;return/^([\w-\.]+)@((\[[0-9 \-]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,8}|[0-9]{1,3})(\]?)$/.test(e)}function allowedChars(e,t){var i=" -_abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(t)switch(t){case"tel":i="1234567890-+() ";break;case"text":i=" abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:i=t}for(var s=!1,a=e.toString(),n=0;n<a.length;n++){if(-1==i.indexOf(a.charAt(n))){s=!1;break}s=!0}return s}function validate_url(e){return!!/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)}function nf_timeConvert(e){var t=e/60,e=Math.floor(t),t=60*(t-e);return e+"."+Math.round(t)}function resend_nf_email(){nf_ajax_url;var e={action:"nf_resend_email",nex_forms_Id:jQuery("#resend_email_nex_forms_Id").text(),entry_Id:jQuery("#resend_email_entry_Id").text(),resend_email:1};jQuery.post(jQuery("#nf_ajax_url").text(),e,function(e){console.log(e)})}function nf_isFloat(e){return""!=e&&!isNaN(e)&&Math.round(e)!=e}function nf_countAllCharacters(e){var s=e.split(""),a={};return s.forEach(function(e){for(var t=0,i=0;i<s.length;i++)e==s[i]&&(t+=1),a[s[i]]=t}),a}jQuery(document).ready(function(){function n(e,t,i,s,a){var n=e.find("form"),r=e.find(".ui-nex-forms-container"),o=t-1,l=r.find(".step:eq("+o+")");parseInt(e.find(".current_step").text()),parseInt(e.find(".last_visited_step").text());if("back"!=a||l.hasClass("validated")){s=s||parseInt(e.find(".current_step").text()),e.find(".last_visited_step").text(s),e.find(".current_step").text(t),e.find('input[name="ms_current_step"]').val(t),setTimeout(function(){e.find('input[name="ms_current_step"]').trigger("change")},400);var d=r.find(".step_transition_in").text()?r.find(".step_transition_in").text():"fadeIn",c=r.find(".step_transition_out").text()?r.find(".step_transition_out").text():"fadeOut";n.css("min-height",l.outerHeight()+"px"),i.addClass("animated").addClass(c);var u=parseInt(nf_get_total_steps(r)),a=Math.round(100/u),s=parseInt(a*o);100<=s?(e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage").css("width","100%"),e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage span").text("100%"),e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage").addClass("total_percent"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage").css("width","100%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage span").text("100%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage").addClass("total_percent")):s<=0?(e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage").css("width","5%"),e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage span").text("0%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage").css("width","5%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage span").text("0%")):(e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage").css("width",s+"%"),e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage span").text(s+"%"),e.find("div.nf_ms_breadcrumb .nf_progressbar_percentage").removeClass("total_percent"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage").css("width",s+"%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage span").text(s+"%"),e.find("div.nf_step_breadcrumb .nf_progressbar_percentage").removeClass("total_percent")),e.find("div.nf_ms_breadcrumb ul").find("li").removeClass("current"),e.find("div.nf_ms_breadcrumb ul").find("li:eq("+o+")").addClass("current"),e.find("div.nf_step_breadcrumb ol").find("li").removeClass("current"),e.find("div.nf_step_breadcrumb ol").find("li:eq("+o+")").addClass("current");for(var h=o;0<h;h--)e.find("div.nf_ms_breadcrumb ul").find("li:eq("+(h-1)+")").addClass("visited"),e.find("div.nf_step_breadcrumb ol").find("li:eq("+(h-1)+")").addClass("visited"),e.find(".step:eq("+(h-1)+")").addClass("step_visited");e.find("div.nf_ms_breadcrumb ul .current").removeClass("visited"),e.find("div.nf_ms_breadcrumb ul li.visited:not(.validated)").removeClass("visited"),e.find("div.nf_step_breadcrumb ol .current").removeClass("visited"),l.find(".form_field").each(function(){run_nf_reanimate(jQuery(this))}),l.find(".html_fields").each(function(){nf_replace_tags(r,jQuery(this))});t=e.find(".ui-nex-forms-container"),n=!!t.hasClass("has_time_limit"),u=t.hasClass("timer_overall")?"overall":"per_step",a=l.attr("data-step-time-limit"),s=(t.attr("data-timer-started"),"true"==t.attr("data-timer-ended")),t=t.find(".nf-timer");a&&(p=!!a&&parseInt(a)),"per_step"==u&&n&&0==s&&nf_timer_rebuild("ui",t,!0,u,p),setTimeout(function(){i.hide()},301),setTimeout(function(){i.removeClass("animated").removeClass(c)},1e3),setTimeout(function(){r.find(".step").hide(),r.find(".step").removeClass("animated").removeClass(c),l.addClass("animated").addClass(d).show()},300),setTimeout(function(){l.removeClass("animated").removeClass(d)},1e3);var f,p=!0;"no"==e.find("#ms_scroll_to_top").text()&&(p=!1),p&&(f=e.offset(),setTimeout(function(){f&&jQuery("html, body").animate({scrollTop:f.top-250},300)},300))}else{--o;o=e.find("div.nf_ms_breadcrumb ul").find("li.current").prevAll("li.visited.validated").first();o&&o.trigger("click")}}jQuery(".step input").on("keypress",function(e){13===e.which&&(e.preventDefault(),jQuery(this).closest(".step").find(".nex-step")&&jQuery(this).closest(".step").find(".nex-step").trigger("click"),jQuery(this).closest(".step").find(".nex-submit")&&jQuery(this).closest(".step").find(".nex-submit").trigger("click"))}),jQuery(document).on("change","#nex-forms select",function(){var e=jQuery(this);jQuery(this).closest(".form_field").hasClass("required")&&(0==jQuery(this).val()||jQuery(this).val()==jQuery(this).attr("data-default-selected-value")?jQuery(this).closest(".form_field").hasClass("md-select")?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find("select.error_message").attr("data-content")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field"))),e.closest(".step").hasClass("auto-step")&&(e.closest(".step").hasClass("last_step")?setTimeout(function(){e.closest("form").submit()},500):setTimeout(function(){e.closest(".step").find(".nex-step").trigger("click")},300))}),jQuery(document).on("blur","#nex-forms select",function(){jQuery(this).closest(".form_field").hasClass("required")&&(0==jQuery(this).val()||jQuery(this).val()==jQuery(this).attr("data-default-selected-value")?jQuery(this).closest(".form_field").hasClass("md-select")?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find("select.error_message").attr("data-content")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).closest(".form_field").find(".error_message").attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")))}),jQuery(document).on("blur","input.email",function(){IsValidEmail(jQuery(this).val())||""==jQuery(this).val()?jQuery(this).hasClass("required")&&""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-secondary-message"))}),jQuery(document).on("blur","input.phone_number",function(){allowedChars(jQuery(this).val(),"tel")||""==jQuery(this).val()?jQuery(this).hasClass("required")&&""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-secondary-message"))}),jQuery(document).on("blur","input.numbers_only",function(){isNumber(jQuery(this).val())||""==jQuery(this).val()?jQuery(this).hasClass("required")&&""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-secondary-message"))}),jQuery(document).on("blur","input.text_only",function(){allowedChars(jQuery(this).val(),"text")||""==jQuery(this).val()?jQuery(this).hasClass("required")&&""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-secondary-message"))}),jQuery(document).on("blur","input.url",function(){validate_url(jQuery(this).val())||""==jQuery(this).val()?jQuery(this).hasClass("required")&&""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")):show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-secondary-message"))}),jQuery(document).on("blur",'input[type="text"].required, input[type="password"].required, textarea.required',function(){jQuery(this).hasClass("email")||jQuery(this).hasClass("phone_number")||jQuery(this).hasClass("numbers_only")||jQuery(this).hasClass("text_only")||jQuery(this).hasClass("url")||(""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")))}),jQuery(document).on("blur",'input[type="text"].required, input[type="password"].required, textarea.required',function(){jQuery(this).hasClass("email")||jQuery(this).hasClass("phone_number")||jQuery(this).hasClass("numbers_only")||jQuery(this).hasClass("text_only")||jQuery(this).hasClass("url")||(""==jQuery(this).val()?show_nf_error(jQuery(this).closest(".form_field"),jQuery(this).attr("data-content")):hide_nf_error(jQuery(this).closest(".form_field")))}),jQuery(document).on("click","#star .fa",function(e){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("change","select",function(e){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("change","input.the_slider",function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("click",".bootstrap-touchspin .btn",function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("change","#tags",function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery("input#selected-color").blur(function(){hide_nf_error(jQuery(this).closest(".form_field"))}),jQuery(document).on("click",".nf_step_breadcrumb ol li.visited a, .nf_ms_breadcrumb ul li.visited.validated",function(){var e,t,i;jQuery(".v7_container").hasClass("ms_disable_back")||((e=jQuery(this).closest("#nex-forms")).find("form"),i=parseInt(jQuery(this).attr("data-show-step")),t=e.find(".step:eq("+(parseInt(e.find(".current_step").text())-1)+")"),i=i||parseInt(jQuery(this).find("a").attr("data-show-step")),jQuery(this).closest("li").addClass("current").removeClass("visited"),jQuery(this).closest("li").nextAll("li").removeClass("visited").removeClass("current"),n(e,i,t,i-1))}),jQuery(document).on("click","div.ui-nex-forms-container .nex-step",function(e){e.preventDefault();var t,i=jQuery(this).closest("form"),s=jQuery(this).closest("#nex-forms"),a=jQuery(this).closest(".step"),e=parseInt(a.attr("data-step-num"));a.find('input[type="text"]').each(function(){var e=(e=jQuery(this).val()).replace(/(<([^>]+)>)/gi,"");jQuery(this).val(e)}),a.find("textarea").each(function(){var e=(e=jQuery(this).val()).replace(/(<([^>]+)>)/gi,"");jQuery(this).val(e)}),validate_form(i)?(jQuery(this).prop("disabled",!0),t=jQuery(this),setTimeout(function(){t.prop("disabled",!1)},500),i=parseInt(s.find('input[name="ms_current_step"]').val())+1,jQuery(this).attr("data-skip-to")&&(i=parseInt(jQuery(this).attr("data-skip-to"))),a.addClass("validated"),s.find("div.nf_ms_breadcrumb ul").find("li:eq("+(e-1)+")").addClass("validated"),s.find("div.nf_ms_breadcrumb ul").find("li:eq("+e+")").addClass("can-navigate"),n(s,i,a)):(a.removeClass("validated"),s.find("div.nf_ms_breadcrumb ul").find("li:eq("+(e-1)+")").removeClass("validated"),s.find("div.nf_ms_breadcrumb ul").find("li:eq("+e+")").removeClass("can-navigate"))}),jQuery(document).on("click","div.ui-nex-forms-container .prev-step",function(e){e.preventDefault(),jQuery(this).prop("disabled",!0);var t=jQuery(this);setTimeout(function(){t.prop("disabled",!1)},500);var i=jQuery(this).closest("#nex-forms"),s=jQuery(this).closest(".step");s.find('input[type="text"]').each(function(){var e=(e=jQuery(this).val()).replace(/(<([^>]+)>)/gi,"");jQuery(this).val(e)}),s.find("textarea").each(function(){var e=(e=jQuery(this).val()).replace(/(<([^>]+)>)/gi,"");jQuery(this).val(e)});e=parseInt(i.find(".last_visited_step").text());n(i,e,s,e-1,"back")}),jQuery(".has_time_limit").each(function(){var e=parseInt(jQuery(this).attr("data-timer-start")),t=jQuery(this).hasClass("timer_overall")?"overall":"per_step",i="true"==jQuery(this).attr("data-timer-started"),s=jQuery(this).find(".nf-timer"),a=jQuery(this).find("form");nf_timer_rebuild("ui",s,!1,t),1==e&&(setTimeout(function(){a.isInViewport()&&!i&&s.TimeCircles().start()},1e3),jQuery(window).on("load resize scroll",function(){a.isInViewport()&&!i&&s.TimeCircles().start()}))}),jQuery(document).on("change",".ms_current_step",function(){var e,t,i=parseInt(jQuery(this).val()),s=jQuery(this).closest(".ui-nex-forms-container"),a=!!s.hasClass("has_time_limit"),n=s.hasClass("timer_overall")?"overall":"per_step",r=s.find(".nf-timer");a&&(e=parseInt(s.attr("data-timer-start")),a=0==(t=parseInt(s.attr("data-timer-end")))?s.find(".step").length:t,t="true"==s.attr("data-timer-started"),i==e&&0==t&&(r.TimeCircles().start(),s.attr("data-timer-started","true")),"overall"==n&&i<=a+1&&0==t&&(r.TimeCircles().start(),s.attr("data-timer-started","true")),i==a+1&&("overall"==n?(r.TimeCircles().stop(),s.attr("data-timer-started","false")):(r.TimeCircles().stop(),s.attr("data-timer-ended","true"),r.find(".textDiv_Hours span").text("0"),r.find(".textDiv_Minutes span").text("0"),r.find(".textDiv_Seconds span").text("0"))))}),jQuery(document).on("click",".send-nex-form button.nex-submit",function(e){e.preventDefault(),validate_form(jQuery(this).closest(".send-nex-form"))&&jQuery(this).closest(".send-nex-form").submit()}),jQuery("form.submit-nex-form").ajaxForm({data:{action:"submit_nex_form",paypal_return_url:jQuery("#paypal_return_url").text()},beforeSubmit:function(e,t,i){var s=t.closest(".nex-forms").find(".nf-timer");if(s&&s.TimeCircles().stop(),t.hasClass("no-submit"))return!1;"redirect"==t.closest(".nex-forms").find(".on_form_submmision").text()&&nf_replace_tags(t,t.closest(".nex-forms").find(".confirmation_page"));var a=!0;try{a=nf_custom_user_func_before_submit(e,t,i)}catch(e){console.log("JS ERRORS in custom Code - "+e)}if(a){if(validate_form(t)){t.closest(".nex-forms").find(".nex_success_message").hide();s=t.closest("#nex-forms"),s=s.attr("data-loader")?s.attr("data-loader"):"ellipsis",t.find(".nex-submit").html();t.addClass("fadeout"),"circle"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-circle"><div></div></div></div>'),"dual-ring"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-dual-ring"></div></div>'),"fb"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-facebook"><div></div><div></div><div></div></div></div>'),"heart"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-heart"><div></div></div></div>'),"ring"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-ring"><div></div><div></div><div></div><div></div></div></div>'),"roller"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'),"roller2"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-default"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'),"ellipsis"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-ellipsis"><div></div><div></div><div></div><div></div></div></div>'),"grid"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-grid"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'),"umbrella"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-hourglass"></div></div>'),"ripple"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-ripple"><div></div><div></div></div></div>'),"spinner"==s&&t.prepend('<div class="nf_loading"><div class="nf-loader-lds-spinner"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'),t.find(".nex-submit").closest(".form_field").addClass("sending"),t.find(".nex-submit").addClass("submitting"),t.find(".nex-submit").prop("disabled",!0);s=t.offset();return jQuery("html, body").animate({scrollTop:s.top-300},500),t.closest("#nex-forms").find("div.nf_ms_breadcrumb .nf_progressbar_percentage").css("width","100%"),t.closest("#nex-forms").find("div.nf_ms_breadcrumb .nf_progressbar_percentage span").text("100%"),t.closest("#nex-forms").find("div.nf_ms_breadcrumb .nf_progressbar_percentage").addClass("total_percent"),t.closest("#nex-forms").find("div.nf_step_breadcrumb .nf_progressbar_percentage").css("width","100%"),t.closest("#nex-forms").find("div.nf_step_breadcrumb .nf_progressbar_percentage span").text("100%"),t.closest("#nex-forms").find("div.nf_step_breadcrumb .nf_progressbar_percentage").addClass("total_percent"),!0}return!1}return!1},success:function(e,t,i,s){try{nf_custom_user_func_after_submit(e,t,i,s)}catch(e){console.log("JS ERRORS in custom Code - "+e)}var a,n,r=s.closest(".nex-forms");"redirect"==r.find(".on_form_submmision").text()?(s.closest(".ui-nex-forms-container").slideUp("slow"),n=""+s.closest(".nex-forms").find(".confirmation_page").text(),jQuery(location).attr("href",n)):(a="yes"==r.attr("data-msg-hide-form"),n=r.attr("data-msg-placement")?r.attr("data-msg-placement"):"outside",a?("inside"==n?s:s.closest(".ui-nex-forms-container")).slideUp("fast"):(r.find("form").removeClass("fadeout"),r.find(".submitting").prop("disabled",!1),r.find(".submitting").removeClass("submitting")),s.closest("#nex-forms").find(".nf_loading").remove(),s.closest("#nex-forms").find(".nex_success_message").show(),s.closest("#nex-forms").find(".nex_success_message").addClass("show_success"),n=(a=s.closest("#nex-forms").find(".nex_success_message")).find(".success_icon"),a.find(".msg_box"),nf_replace_tags(s,r=a.find(".msg_text")),a.show(),n.show().addClass("animated").addClass("flipInY"),r.show().addClass("animated").addClass("fadeIn"),jQuery(".ui-nex-forms-container").append(e),jQuery("#nf_paypal").submit())}})}),jQuery,window,document,function(s){function i(e,t){var i;(function(e,t){e.addClass("bootstrap-colorpalette");var i=[];s.each(t,function(e,t){i.push("<div>"),s.each(t,function(e,t){t=['<button type="button" class="btn-color" style="background-color:',t,'" data-value="',t,'" title="',t,'"></button>'].join("");i.push(t)}),i.push("</div>")}),e.html(i.join(""))})(this.element=e,t&&t.colors||a),(i=this).element.on("click",function(e){e=s(e.target).closest(".btn-color");e[0]&&(e=e.attr("data-value"),i.value=e,i.element.trigger({type:"selectColor",color:e,element:i.element}))})}var a=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]];s.fn.extend({colorPalette:function(t){return this.each(function(){var e=s(this);e.data("colorpalette")||e.data("colorpalette",new i(e,t))}),this}})}(jQuery),function(r){function s(e){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,e&&(void 0!==e.toLowerCase?this.setColor(e):void 0!==e.h&&(this.value=e))}function n(e,t){this.element=r(e).addClass("colorpicker-element"),this.options=r.extend({},i,this.element.data(),t),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&r(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new s(!1!==this.options.color?this.options.color:this.getValue()),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,this.picker=r(this.options.template),this.picker.addClass(this.options.inline?"colorpicker-inline colorpicker-visible":"colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format||this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker",r.proxy(this.mousedown,this)),this.picker.appendTo(this.container||r("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":r.proxy(this.keyup,this)}),!1===this.component&&this.element.on({"focus.colorpicker":r.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":r.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":r.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":r.proxy(this.show,this)}),this.update(),r(r.proxy(function(){this.element.trigger("create")},this))}var i={horizontal:!(s.prototype={constructor:s,_sanitizeNumber:function(e){return"number"==typeof e?e:!isNaN(e)&&null!==e&&""!==e&&void 0!==e&&void 0!==e.toLowerCase?parseFloat(e):1},setColor:function(e){e=e.toLowerCase(),this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1}},stringToHSB:function(s){s=s.toLowerCase();var a=this,n=!1;return r.each(this.stringParsers,function(e,t){var i=t.re.exec(s),i=i&&t.parse.apply(a,[i]),t=t.format||"rgba";return!i||(n=t.match(/hsla?/)?a.RGBtoHSB.apply(a,a.HSLtoRGB.apply(a,i)):a.RGBtoHSB.apply(a,i),a.origFormat=t,!1)}),n},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,i,s){var a,n,r,o,l,d,c;switch(e=e||this.value.h,t=t||this.value.s,i=i||this.value.b,s=s||this.value.a,e&&void 0===t&&void 0===i&&(t=e.s,i=e.v,e=e.h),l=i*(1-t),d=i*(1-(e=6*e-(o=Math.floor(6*e)))*t),c=i*(1-(1-e)*t),o%6){case 0:a=i,n=c,r=l;break;case 1:a=d,n=i,r=l;break;case 2:a=l,n=i,r=c;break;case 3:a=l,n=d,r=i;break;case 4:a=c,n=l,r=i;break;case 5:a=i,n=l,r=d}return{r:Math.floor(255*a),g:Math.floor(255*n),b:Math.floor(255*r),a:s}},toHex:function(e,t,i,s){s=this.toRGB(e,t,i,s);return"#"+(1<<24|parseInt(s.r)<<16|parseInt(s.g)<<8|parseInt(s.b)).toString(16).substr(1)},toHSL:function(e,t,i,s){e=e||this.value.h,t=t||this.value.s,i=i||this.value.b,s=s||this.value.a;var a=e,e=(2-t)*i,i=t*i;return i/=0<e&&e<=1?e:2-e,e/=2,1<i&&(i=1),{h:isNaN(a)?0:a,s:isNaN(i)?0:i,l:isNaN(e)?0:e,a:isNaN(s)?0:s}},RGBtoHSB:function(e,t,i,s){var a,n;return e/=255,t/=255,i/=255,t=((t=0==(n=(a=Math.max(e,t,i))-Math.min(e,t,i))?null:a===e?(t-i)/n:a===t?(i-e)/n+2:(e-t)/n+4)+360)%6*60/360,n=0==n?0:n/a,{h:this._sanitizeNumber(t),s:n,b:a,a:this._sanitizeNumber(s)}},HueToRGB:function(e,t,i){return i<0?i+=1:1<i&&--i,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},HSLtoRGB:function(e,t,i,s){var a;t<0&&(t=0);var n=2*i-(a=i<=.5?i*(1+t):i+t-i*t),i=e+1/3,t=e,e=e-1/3;return[Math.round(255*this.HueToRGB(n,a,i)),Math.round(255*this.HueToRGB(n,a,t)),Math.round(255*this.HueToRGB(n,a,e)),this._sanitizeNumber(s)]},toString:function(e){switch(e=e||"rgba"){case"rgb":return"rgb("+(t=this.toRGB()).r+","+t.g+","+t.b+")";case"rgba":var t;return"rgba("+(t=this.toRGB()).r+","+t.g+","+t.b+","+t.a+")";case"hsl":var i=this.toHSL();return"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":i=this.toHSL();return"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();default:return!1}},stringParsers:[{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(e){e=this.colorNameToHex(e[0])||"#000000",e=this.stringParsers[0].re.exec(e);return e&&this.stringParsers[0].parse.apply(this,[e])}}],colorNameToHex:function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]}}),inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'};n.version="2.0.0-beta",n.Color=s,n.prototype={constructor:n,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline)return!1;var e=(this.component||this.element).offset();this.picker.css({top:e.top+(this.component||this.element).outerHeight(),left:e.left})},show:function(e){return!this.isDisabled()&&(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),r(window).on("resize.colorpicker",r.proxy(this.reposition,this)),!this.hasInput()&&e&&e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!1===this.options.inline&&r(window.document).on({"mousedown.colorpicker":r.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),r(window).off("resize.colorpicker",this.reposition),r(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){return e=e||this.color.toString(this.format),!1!==this.input&&this.input.prop("value",e),e},updatePicker:function(e){void 0!==e&&(this.color=new s(e));var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");return 0!==i.length?(!1===this.options.horizontal?(t=this.options.sliders,i.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,i.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e):void 0},updateComponent:function(e){var t;return e=e||this.color.toString(this.format),!1!==this.component&&(0<(t=this.component.find("i").eq(0)).length?t:this.component).css({backgroundColor:e}),e},update:function(e){var t=this.updateComponent();return!1===this.getValue(!1)&&!0!==e||(this.updateInput(t),this.updateData(t)),this.updatePicker(),t},setValue:function(e){this.color=new s(e),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){var t;return e=void 0===e?"#000000":e,void 0!==(t=this.hasInput()?this.input.val():this.element.data("color"))&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){e.stopPropagation(),e.preventDefault();var t=r(e.target).closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.currentSlider=r.extend({},i.saturation);else if(t.is(".colorpicker-hue"))this.currentSlider=r.extend({},i.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.currentSlider=r.extend({},i.alpha)}i=t.offset();this.currentSlider.guide=t.find("i")[0].style,this.currentSlider.left=e.pageX-i.left,this.currentSlider.top=e.pageY-i.top,this.mousePointer={left:e.pageX,top:e.pageY},r(document).on({"mousemove.colorpicker":r.proxy(this.mousemove,this),"mouseup.colorpicker":r.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),e=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=e+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/100),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,e/100),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),r(document).off({"mousemove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup}),!1},keyup:function(e){var t;38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(t=this.input.val(),this.color=new s(t),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:t})}},r.bscolorpicker=n,r.fn.bscolorpicker=function(s){var a=arguments;return this.each(function(){var e=r(this),t=e.data("colorpicker"),i="object"==typeof s?s:{};t||"string"==typeof s?"string"==typeof s&&t[s].apply(t,Array.prototype.slice.call(a,1)):e.data("colorpicker",new n(this,i))})},r.fn.bscolorpicker.constructor=n}(window.jQuery),function(f){f.fn.extend({maxlength:function(d,e){function n(e){var t=e.val().match(/\n/g),i=0;return(d.utf8?(i=t?s(t):0,s(e.val())):(i=t?t.length:0,e.val().length))+(d.ignoreBreaks?0:i)}function s(e){for(var t=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t++:t+=127<s&&s<2048?2:3}return t}function r(e,t){return t-n(e)}function o(e){e.css({display:"block"})}function l(e,t){var i="";return d.message?i=d.message.replace("%charsTyped%",t).replace("%charsRemaining%",e-t).replace("%charsTotal%",e):(d.preText&&(i+=d.preText),i+=d.showCharsTyped?t:e-t,d.showMaxLength&&(i+=d.separator+e),d.postText&&(i+=d.postText)),i}function c(e,t,i,s){var a;s.html(l(i,i-e)),0<e?(a=t,e=d.threshold,t=i,i=!0,!d.alwaysShow&&t-n(a)>e&&(i=!1),i?o(s.removeClass(d.limitReachedClass).addClass(d.warningClass)):s.css({display:"none"})):o(s.removeClass(d.warningClass).addClass(d.limitReachedClass))}function t(e,t){var i,s,a=(s=(i=e)[0],f.extend({},"function"==typeof s.getBoundingClientRect?s.getBoundingClientRect():{width:s.offsetWidth,height:s.offsetHeight},i.offset())),n=e.outerWidth(),r=t.outerWidth(),o=t.width(),l=t.height();switch(d.placement){case"bottom":t.css({top:a.top+a.height,left:a.left+a.width/2-o/2});break;case"top":t.css({top:a.top-l,left:a.left+a.width/2-o/2});break;case"left":t.css({top:a.top+a.height/2-l/2,left:a.left-o});break;case"right":t.css({top:a.top+a.height/2-l/2,left:a.left+a.width});break;case"bottom-right":t.css({top:a.top+a.height,left:a.left+a.width});break;case"top-right":t.css({top:a.top-l,left:a.left+n});break;case"top-left":t.css({top:a.top-l,left:a.left-r});break;case"bottom-left":t.css({top:a.top+e.outerHeight(),left:a.left-r});break;case"centered-right":t.css({top:a.top+l/2,left:a.left+n-r-3})}}function u(e){return e.attr("maxlength")||e.attr("size")}var h=f("body");return f.isFunction(d)&&!e&&(e=d,d={}),d=f.extend({alwaysShow:!1,threshold:10,warningClass:"label label-success",limitReachedClass:"label label-important",separator:" / ",preText:"",postText:"",set_ID:"",showMaxLength:!0,placement:"bottom",showCharsTyped:!0,validate:!1,utf8:!1,ignoreBreaks:!1},d),this.each(function(){var i,s,a=f(this);f(window).resize(function(){t(a,s)}),a.focus(function(){var e=l(i,"0");i=u(a),f(".bootstrap-maxlength."+d.set_ID).remove(),s=f('<span class="'+d.set_ID+' label bootstrap-maxlength"></span>').css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:1099}).html(e),a.is("textarea")&&(a.data("maxlenghtsizex",a.outerWidth()),a.data("maxlenghtsizey",a.outerHeight()),a.mouseup(function(){a.outerWidth()===a.data("maxlenghtsizex")&&a.outerHeight()===a.data("maxlenghtsizey")||t(a,s),a.data("maxlenghtsizex",a.outerWidth()),a.data("maxlenghtsizey",a.outerHeight())})),h.append(s),c(r(a,u(a)),a,i,s),t(a,s)}),a.blur(function(){s.remove()}),a.keyup(function(){var e=r(a,u(a)),t=!0;return d.validate&&e<0?t=!1:c(e,a,i,s),t})})}})}(jQuery),function(g){g.expr[":"].icontains=function(e,t,i){return 0<=g(e).text().toUpperCase().indexOf(i[3].toUpperCase())};var l=function(e,t,i){i&&(i.stopPropagation(),i.preventDefault()),this.$element=g(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=g.extend({},g.fn.selectpicker.defaults,this.$element.data(),"object"==typeof t&&t),null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=l.prototype.val,this.render=l.prototype.render,this.refresh=l.prototype.refresh,this.setStyle=l.prototype.setStyle,this.selectAll=l.prototype.selectAll,this.deselectAll=l.prototype.deselectAll,this.init()};l.prototype={constructor:l,init:function(){var t=this,e=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),void 0!==e&&(this.$button.attr("data-id",e),g('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this)},createDropdown:function(){var e=this.multiple?" show-tick":"",t=this.autofocus?" autofocus":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",s=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"";return g('<div class="btn-group  bootstrap-select'+e+'"><button type="button" class="btn dropdown-toggle align_left the_input_element selectpicker" data-toggle="dropdown"'+t+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu the_input_element open">'+i+s+'<ul class="dropdown-menu inner the_input_element selectpicker" role="menu"></ul></div></div>')},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul").append(t),e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menu.find("ul").append(e)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var r=this,o=[],i="";return this.$element.find("option").each(function(){var e=g(this),t=e.attr("class")||"",i=e.attr("style")||"",s=e.data("content")?e.data("content"):e.html(),a=void 0!==e.data("subtext")?'<small class="muted text-muted">'+e.data("subtext")+"</small>":"",n=void 0!==e.data("icon")?'<i class="'+r.options.iconBase+" "+e.data("icon")+'"></i> ':"";""!==n&&(e.is(":disabled")||e.parent().is(":disabled"))&&(n="<span>"+n+"</span>"),e.data("content")||(s=n+'<span class="text">'+s+a+"</span>"),r.options.hideDisabled&&(e.is(":disabled")||e.parent().is(":disabled"))?o.push('<a style="min-height: 0; padding: 0"></a>'):e.parent().is("optgroup")&&!0!==e.data("divider")?0===e.index()?(n=e.parent().attr("label"),a=void 0!==e.parent().data("subtext")?'<small class="muted text-muted">'+e.parent().data("subtext")+"</small>":"",n=(e.parent().data("icon")?'<i class="'+e.parent().data("icon")+'"></i> ':"")+'<span class="text">'+n+a+"</span>",o.push(0!==e[0].index?'<div class="div-contain"><div class="divider"></div></div><dt>'+n+"</dt>"+r.createA(s,"opt "+t,i):"<dt>"+n+"</dt>"+r.createA(s,"opt "+t,i))):o.push(r.createA(s,"opt "+t,i)):o.push(!0===e.data("divider")?'<div class="div-contain"><div class="divider"></div></div>':!0===g(this).data("hidden")?"":r.createA(s,t,i))}),g.each(o,function(e,t){i+="<li rel="+e+">"+t+"</li>"}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),g(i)},createA:function(e,t,i){return'<a tabindex="0" class="'+t+'" style="'+i+'">'+e+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(e){var s=this;!1!==e&&this.$element.find("option").each(function(e){s.setDisabled(e,g(this).is(":disabled")||g(this).parent().is(":disabled")),s.setSelected(e,g(this).is(":selected"))}),this.tabIndex();var t,i=this.$element.find("option:selected").map(function(){var e=g(this),t=e.data("icon")&&s.options.showIcon?'<i class="'+s.options.iconBase+" "+e.data("icon")+'"></i> ':"",i=s.options.showSubtext&&e.attr("data-subtext")&&!s.multiple?' <small class="muted text-muted">'+e.data("subtext")+"</small>":"";return e.data("content")&&s.options.showContent?e.data("content"):void 0!==e.attr("title")?e.attr("title"):t+e.html()+i}).toArray(),a=this.multiple?i.join(this.options.multipleSeparator):i[0];this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")&&(t=this.options.selectedTextFormat.split(">"),e=this.options.hideDisabled?":not([disabled])":"",(1<t.length&&i.length>t[1]||1==t.length&&2<=i.length)&&(a=this.options.countSelectedText.replace("{0}",i.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+e).length))),a=a||(void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",g.trim(a)),this.$newElement.find(".filter-option").html(a)},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""));e=e||this.options.style;"add"==t?this.$button.addClass(e):"remove"==t?this.$button.removeClass(e):(this.$button.removeClass(this.options.style),this.$button.addClass(e))},liHeight:function(){var e=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),t=e.addClass("open").find("> .dropdown-menu"),i=t.find("li > a").outerHeight(),s=this.options.header?t.find(".popover-title").outerHeight():0,t=this.options.liveSearch?t.find(".bootstrap-select-searchbox").outerHeight():0;e.remove(),this.$newElement.data("liHeight",i).data("headerHeight",s).data("searchHeight",t)},setSize:function(){function t(){i=n.$newElement.offset().top-m.scrollTop(),s=m.height()-i-l}var i,s,e,a,n=this,r=this.$menu,o=r.find(".inner"),l=this.$newElement.outerHeight(),d=this.$newElement.data("liHeight"),c=this.$newElement.data("headerHeight"),u=this.$newElement.data("searchHeight"),h=r.find("li .divider").outerHeight(!0),f=parseInt(r.css("padding-top"))+parseInt(r.css("padding-bottom"))+parseInt(r.css("border-top-width"))+parseInt(r.css("border-bottom-width")),p=this.options.hideDisabled?":not(.disabled)":"",m=g(window),v=f+parseInt(r.css("margin-top"))+parseInt(r.css("margin-bottom"))+2;t(),this.options.header&&r.css("padding-top",0),"auto"==this.options.size?((e=function(){var e;t(),a=s-v,n.options.dropupAuto&&n.$newElement.toggleClass("dropup",s<i&&a-v<r.height()),n.$newElement.hasClass("dropup")&&(a=i-v),e=3<r.find("li").length+r.find("dt").length?3*d+v-2:0,r.css({"max-height":a+"px",overflow:"hidden","min-height":e+"px"}),o.css({"max-height":a-c-u-f+"px","overflow-y":"auto","min-height":e-f+"px"})})(),g(window).resize(e),g(window).scroll(e)):this.options.size&&"auto"!=this.options.size&&r.find("li"+p).length>this.options.size&&(p=r.find("li"+p+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index(),p=r.find("li").slice(0,p+1).find(".div-contain").length,a=d*this.options.size+p*h+f,n.options.dropupAuto&&this.$newElement.toggleClass("dropup",s<i&&a<r.height()),r.css({"max-height":a+c+u+"px",overflow:"hidden"}),o.css({"max-height":a-f+"px","overflow-y":"auto"}))},setWidth:function(){var e,t;"auto"==this.options.width?(this.$menu.css("min-width","0"),t=(e=this.$newElement.clone().appendTo("body")).find("> .dropdown-menu").css("width"),e.remove(),this.$newElement.css("width",t)):"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){function e(e){a.addClass(e.attr("class")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),i=e.hasClass("dropup")?0:e[0].offsetHeight,a.css({top:t.top+i,left:t.left,width:e[0].offsetWidth,position:"absolute"})}var t,i,s=this,a=g("<div />");this.$newElement.on("click",function(){e(g(this)),a.appendTo(s.options.container),a.toggleClass("open",!g(this).hasClass("open")),a.append(s.$menu)}),g(window).resize(function(){e(s.$newElement)}),g(window).on("scroll",function(){e(s.$newElement)}),g("html").on("click",function(e){g(e.target).closest(s.$newElement).length<1&&a.removeClass("open")})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},setSelected:function(e,t){null==this.$lis&&(this.$lis=this.$menu.find("li")),g(this.$lis[e]).toggleClass("selected",t)},setDisabled:function(e,t){null==this.$lis&&(this.$lis=this.$menu.find("li")),t?g(this.$lis[e]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):g(this.$lis[e]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var e=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var r=this;g("body").on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),this.$newElement.on("click",function(){r.setSize(),r.options.liveSearch||r.multiple||setTimeout(function(){r.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(e){var t,i,s=g(this).parent().index(),a=r.$element.val(),n=r.$element.prop("selectedIndex");r.multiple&&e.stopPropagation(),e.preventDefault(),r.isDisabled()||g(this).parent().hasClass("disabled")||(e=(i=(t=r.$element.find("option")).eq(s)).prop("selected"),r.multiple?(i.prop("selected",!e),r.setSelected(s,!e)):(t.prop("selected",!1),i.prop("selected",!0),r.$menu.find(".selected").removeClass("selected"),r.setSelected(s,!0)),r.multiple?r.options.liveSearch&&r.$searchbox.focus():r.$button.focus(),(a!=r.$element.val()&&r.multiple||n!=r.$element.prop("selectedIndex")&&!r.multiple)&&r.$element.change())}),this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(e){e.target==this&&(e.preventDefault(),e.stopPropagation(),(r.options.liveSearch?r.$searchbox:r.$button).focus())}),this.$menu.on("click",".popover-title .close",function(){r.$button.focus()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$element.change(function(){r.render(!1)})},liveSearchListener:function(){var t=this,e=g('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){t.$menu.find(".active").removeClass("active"),t.$searchbox.val()&&(t.$searchbox.val(""),t.$menu.find("li").show(),e.parent().length&&e.remove()),t.multiple||t.$menu.find(".selected").addClass("active"),setTimeout(function(){t.$searchbox.focus()},10)}),this.$searchbox.on("input propertychange",function(){t.$searchbox.val()?(t.$menu.find("li").show().not(":icontains("+t.$searchbox.val()+")").hide(),t.$menu.find("li").filter(":visible:not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(t.options.noneResultsText+' "'+t.$searchbox.val()+'"').show(),t.$menu.find("li").last().after(e))):(t.$menu.find("li").show(),e.parent().length&&e.remove()),t.$menu.find("li.active").removeClass("active"),t.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),g(this).focus()}),this.$menu.on("mouseenter","a",function(e){t.$menu.find(".active").removeClass("active"),g(e.currentTarget).parent().not(".disabled").addClass("active")}),this.$menu.on("mouseleave","a",function(){t.$menu.find(".active").removeClass("active")})},val:function(e){return void 0!==e?(this.$element.val(e),this.$element.change(),this.$element):this.$element.val()},selectAll:function(){this.$element.find("option").prop("selected",!0).attr("selected","selected"),this.render()},deselectAll:function(){this.$element.find("option").prop("selected",!1).removeAttr("selected"),this.render()},keydown:function(e){var t,i,s,a,n,r,o,l,d,c,u,h={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},f=(u=g(this)).parent();u.is("input")&&(f=u.parent().parent()),(o=f.data("this")).options.liveSearch&&(f=u.parent().parent()),o.options.container&&(f=o.$menu),t=g("[role=menu] li:not(.divider) a",f),!(l=o.$menu.parent().hasClass("open"))&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(o.setSize(),o.$menu.parent().addClass("open"),l=o.$menu.parent().hasClass("open"),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(e.keyCode)&&l&&0===o.$menu.find(".active").length&&(e.preventDefault(),o.$menu.parent().removeClass("open"),o.$button.focus()),t=g("[role=menu] li:not(.divider):visible",f),u.val()||/(38|40)/.test(e.keyCode)||0===t.filter(".active").length&&(t=o.$newElement.find("li").filter(":icontains("+h[e.keyCode]+")"))),t.length&&(/(38|40)/.test(e.keyCode)?(d=t.index(t.filter(":focus")),s=t.parent(":not(.disabled):visible").first().index(),a=t.parent(":not(.disabled):visible").last().index(),i=t.eq(d).parent().nextAll(":not(.disabled):visible").eq(0).index(),n=t.eq(d).parent().prevAll(":not(.disabled):visible").eq(0).index(),r=t.eq(i).parent().prevAll(":not(.disabled):visible").eq(0).index(),o.options.liveSearch&&(t.each(function(e){g(this).is(":not(.disabled)")&&g(this).data("index",e)}),d=t.index(t.filter(".active")),s=t.filter(":not(.disabled):visible").first().data("index"),a=t.filter(":not(.disabled):visible").last().data("index"),i=t.eq(d).nextAll(":not(.disabled):visible").eq(0).data("index"),n=t.eq(d).prevAll(":not(.disabled):visible").eq(0).data("index"),r=t.eq(i).prevAll(":not(.disabled):visible").eq(0).data("index")),f=u.data("prevIndex"),38==e.keyCode&&(o.options.liveSearch&&--d,d!=r&&n<d&&(d=n),d<s&&(d=s),d==f&&(d=a)),40==e.keyCode&&(o.options.liveSearch&&(d+=1),-1==d&&(d=0),d!=r&&d<i&&(d=i),a<d&&(d=a),d==f&&(d=s)),u.data("prevIndex",d),o.options.liveSearch?(e.preventDefault(),u.is(".dropdown-toggle")||(t.removeClass("active"),t.eq(d).addClass("active").find("a").focus(),u.focus())):t.eq(d).focus()):u.is("input")||(c=[],t.each(function(){g(this).parent().is(":not(.disabled)")&&g.trim(g(this).text().toLowerCase()).substring(0,1)==h[e.keyCode]&&c.push(g(this).parent().index())}),d=g(document).data("keycount"),d++,g(document).data("keycount",d),g.trim(g(":focus").text().toLowerCase()).substring(0,1)!=h[e.keyCode]?(d=1,g(document).data("keycount",d)):d>=c.length&&(g(document).data("keycount",0),d>c.length&&(d=1)),t.eq(c[d-1]).focus()),/(13|32|^9$)/.test(e.keyCode)&&l&&(/(32)/.test(e.keyCode)||e.preventDefault(),o.options.liveSearch?/(32)/.test(e.keyCode)||(o.$menu.find(".active a").click(),u.focus()):g(":focus").click(),g(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode)&&l&&(o.multiple||o.options.liveSearch)||/(27)/.test(e.keyCode)&&!l)&&(o.$menu.parent().removeClass("open"),o.$button.focus()))},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove(),this.$element.remove()}},g.fn.selectpicker=function(a,n){var r,o=arguments,e=this.each(function(){if(g(this).is("select")){var e=g(this),t=e.data("selectpicker"),i="object"==typeof a&&a;if(t){if(i)for(var s in i)t.options[s]=i[s]}else e.data("selectpicker",t=new l(this,i,n));"string"==typeof a&&(r=t[e=a]instanceof Function?([].shift.apply(o),t[e].apply(t,o)):t.options[e])}});return void 0!==r?r:e},g.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,multipleSeparator:", ",iconBase:"fa ",tickIcon:"fa-check"},g(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",l.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(e){e.stopPropagation()})}(window.jQuery),function(r){function s(e,t){this.$element=r(e),this.$input=this.$element.find(":file"),0!==this.$input.length&&(this.name=this.$input.attr("name")||t.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=r('<input type="hidden" />'),this.$element.prepend(this.$hidden)),this.$preview=this.$element.find(".fileinput-preview"),t=this.$preview.css("height"),"inline"!=this.$preview.css("display")&&"0px"!=t&&"none"!=t&&this.$preview.css("line-height",t),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen())}var i="Microsoft Internet Explorer"==window.navigator.appName;s.prototype.listen=function(){this.$input.on("change.bs.fileinput",r.proxy(this.change,this)),r(this.$input[0].form).on("reset.bs.fileinput",r.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",r.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",r.proxy(this.clear,this))},s.prototype.change=function(i){var s,e,a,n;void 0===i.target.files&&(i.target.files=i.target&&i.target.value?[{name:i.target.value.replace(/^.+\\/,"")}]:[]),0!==i.target.files.length&&(this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name),s=i.target.files[0],0<this.$preview.length&&(void 0!==s.type?s.type.match("image.*"):s.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader?(e=new FileReader,a=this.$preview,n=this.$element,e.onload=function(e){var t=r("<img>").attr("src",e.target.result);i.target.files[0].result=e.target.result,n.find(".fileinput-filename").text(s.name),"none"!=a.css("max-height")&&t.css("max-height",parseInt(a.css("max-height"),10)-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10)-parseInt(a.css("border-top"),10)-parseInt(a.css("border-bottom"),10)),a.html(t),n.addClass("fileinput-exists").removeClass("fileinput-new"),n.trigger("change.bs.fileinput",i.target.files)},e.readAsDataURL(s)):(this.$element.find(".fileinput-filename").text(s.name),this.$preview.text(s.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")))},s.prototype.clear=function(e){var t;e&&e.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),i?(t=this.$input.clone(!0),this.$input.after(t),this.$input.remove(),this.$input=t):this.$input.val(""),this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),!1!==e&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},s.prototype.reset=function(){this.clear(!1),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},s.prototype.trigger=function(e){this.$input.trigger("click"),e.preventDefault()},r.fn.fileinput=function(i){return this.each(function(){var e=r(this),t=e.data("fileinput");t||e.data("fileinput",t=new s(this,i)),"string"==typeof i&&t[i]()})},r.fn.fileinput.Constructor=s,r(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var t=r(this);t.data("fileinput")||(t.fileinput(t.data()),0<(t=r(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]')).length&&(e.preventDefault(),t.trigger("click.bs.fileinput")))})}(jQuery),jQuery,window,document,function(c){c.widget("ui.slider",c.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s=[],a=t.values&&t.values.length||1;for(i.length>a&&(i.slice(a).remove(),i=i.slice(0,a)),e=i.length;e<a;e++)s.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=i.add(c(s.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){c(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:c.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=c("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,a,n,t,r,o=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),r={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(r),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-o.values(e));(t<s||s===t&&(e===o._lastChangedValue||o.values(e)===l.min))&&(s=t,a=c(this),n=e)}),!1!==this._start(e,n)&&(this._mouseSliding=!0,this._handleIndex=n,a.addClass("ui-state-active").focus(),t=a.offset(),r=!c(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:e.pageX-t.left-a.width()/2,top:e.pageY-t.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,n,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},t=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,t),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,e="horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),e=e/t;return 1<e&&(e=1),e<0&&(e=0),"vertical"===this.orientation&&(e=1-e),t=this._valueMax()-this._valueMin(),t=this._valueMin()+e*t,this._trimAlignValue(t)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var s,a;this.options.values&&this.options.values.length?(s=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&s<i||1===t&&i<s)&&(i=s),i!==this.values(t)&&((a=this.values())[t]=i,a=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),s=this.values(t?0:1),!1!==a&&this.values(t,i))):i===this.value()||!1!==(a=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){var i;this._keySliding||this._mouseSliding||(i={handle:this.handles[t],value:this.value()},this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,s,a;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!c.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,s=e,a=0;i.length>a;a+=1)i[a]=this._trimAlignValue(s[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,t){var i,s=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),c.isArray(this.options.values)&&(s=this.options.values.length),c.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<s;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,i;if(arguments.length)return e=this.options.values[e],this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,e=e-i;return 2*Math.abs(i)>=t&&(e+=0<i?t:-t),parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,e,s,a,n=this.options.range,r=this.options,o=this,l=!this._animateOff&&r.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(e){i=(o.values(e)-o._valueMin())/(o._valueMax()-o._valueMin())*100,d["horizontal"===o.orientation?"left":"bottom"]=i+"%",c(this).stop(1,1)[l?"animate":"css"](d,r.animate),!0===o.options.range&&("horizontal"===o.orientation?(0===e&&o.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===e&&o.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===e&&o.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===e&&o.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(e=this.value(),s=this._valueMin(),a=this._valueMax(),i=a!==s?(e-s)/(a-s)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](d,r.animate),"min"===n&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===n&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===n&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===n&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var t,i,s,a=c(e.target).data("ui-slider-handle-index");switch(e.keyCode){case c.ui.keyCode.HOME:case c.ui.keyCode.END:case c.ui.keyCode.PAGE_UP:case c.ui.keyCode.PAGE_DOWN:case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,c(e.target).addClass("ui-state-active"),!1===this._start(e,a)))return}switch(s=this.options.step,t=i=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case c.ui.keyCode.HOME:i=this._valueMin();break;case c.ui.keyCode.END:i=this._valueMax();break;case c.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/5);break;case c.ui.keyCode.UP:case c.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+s);break;case c.ui.keyCode.DOWN:case c.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-s)}this._slide(e,a,i)},click:function(e){e.preventDefault()},keyup:function(e){var t=c(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),c(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(h){var a={tagClass:function(e){return"label label-info"},itemValue:function(e){return e&&e.toString()},itemText:function(e){return this.itemValue(e)},itemTitle:function(e){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!0,onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};function r(e,t){this.itemsArray=[],this.$element=h(e),this.$element.hide(),this.isSelect="SELECT"===e.tagName,this.multiple=this.isSelect&&e.hasAttribute("multiple"),this.objectItems=t&&t.itemValue,this.placeholderText=e.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=h('<div class="bootstrap-tagsinput"></div>'),this.$input=h('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(t)}function n(e,t){var i;"function"!=typeof e[t]&&(i=e[t],e[t]=function(e){return e[i]})}function l(e,t){var i;"function"!=typeof e[t]&&(i=e[t],e[t]=function(){return i})}r.prototype={constructor:r,add:function(e,t,i){var s=this;if(!(s.options.maxTags&&s.itemsArray.length>=s.options.maxTags)&&(!1===e||e)){if("string"==typeof e&&s.options.trimValue&&(e=h.trim(e)),"object"==typeof e&&!s.objectItems)throw"Can't add objects when itemValue option is not set";if(!e.toString().match(/^\s*$/)){if(s.isSelect&&!s.multiple&&0<s.itemsArray.length&&s.remove(s.itemsArray[0]),"string"==typeof e&&"INPUT"===this.$element[0].tagName){var a=s.options.delimiterRegex||s.options.delimiter,n=e.split(a);if(1<n.length){for(var r=0;r<n.length;r++)this.add(n[r],!0);return void(t||s.pushVal())}}var o=s.options.itemValue(e),l=s.options.itemText(e),d=s.options.tagClass(e),c=s.options.itemTitle(e),u=h.grep(s.itemsArray,function(e){return s.options.itemValue(e)===o})[0];!u||s.options.allowDuplicates?s.items().toString().length+e.length+1>s.options.maxInputLength||(a=h.Event("beforeItemAdd",{item:e,cancel:!1,options:i}),s.$element.trigger(a),a.cancel||(s.itemsArray.push(e),(c=h('<span class="tag '+f(d)+(null!==c?'" title="'+c:"")+'">'+f(l)+'<span data-role="remove"></span></span>')).data("item",e),s.findInputWrapper().before(c),c.after(" "),s.isSelect&&!h('option[value="'+encodeURIComponent(o)+'"]',s.$element)[0]&&((l=h("<option selected>"+f(l)+"</option>")).data("item",e),l.attr("value",o),s.$element.append(l)),t||s.pushVal(),s.options.maxTags!==s.itemsArray.length&&s.items().toString().length!==s.options.maxInputLength||s.$container.addClass("bootstrap-tagsinput-max"),s.$element.trigger(h.Event("itemAdded",{item:e,options:i})))):s.options.onTagExists&&(i=h(".tag",s.$container).filter(function(){return h(this).data("item")===u}),s.options.onTagExists(e,i))}}},remove:function(t,e,i){var s=this;if(s.objectItems&&(t=(t="object"==typeof t?h.grep(s.itemsArray,function(e){return s.options.itemValue(e)==s.options.itemValue(t)}):h.grep(s.itemsArray,function(e){return s.options.itemValue(e)==t}))[t.length-1]),t){var a=h.Event("beforeItemRemove",{item:t,cancel:!1,options:i});if(s.$element.trigger(a),a.cancel)return;h(".tag",s.$container).filter(function(){return h(this).data("item")===t}).remove(),h("option",s.$element).filter(function(){return h(this).data("item")===t}).remove(),-1!==h.inArray(t,s.itemsArray)&&s.itemsArray.splice(h.inArray(t,s.itemsArray),1)}e||s.pushVal(),s.options.maxTags>s.itemsArray.length&&s.$container.removeClass("bootstrap-tagsinput-max"),s.$element.trigger(h.Event("itemRemoved",{item:t,options:i}))},removeAll:function(){var e=this;for(h(".tag",e.$container).remove(),h("option",e.$element).remove();0<e.itemsArray.length;)e.itemsArray.pop();e.pushVal()},refresh:function(){var n=this;h(".tag",n.$container).each(function(){var e=h(this),t=e.data("item"),i=n.options.itemValue(t),s=n.options.itemText(t),a=n.options.tagClass(t);e.attr("class",null),e.addClass("tag "+f(a)),e.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=f(s),n.isSelect&&h("option",n.$element).filter(function(){return h(this).data("item")===t}).attr("value",i)})},items:function(){return this.itemsArray},pushVal:function(){var t=this,e=h.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(e,!0).trigger("change")},build:function(e){var i,t,s,o=this;o.options=h.extend({},a,e),o.objectItems&&(o.options.freeInput=!1),n(o.options,"itemValue"),n(o.options,"itemText"),l(o.options,"tagClass"),o.options.typeahead&&(l(i=o.options.typeahead||{},"source"),o.$input.typeahead(h.extend({},i,{source:function(e,a){function t(e){for(var t=[],i=0;i<e.length;i++){var s=o.options.itemText(e[i]);n[s]=e[i],t.push(s)}a(t)}this.map={};var n=this.map,e=i.source(e);h.isFunction(e.success)?e.success(t):(h.isFunction(e.then)?e:h.when(e)).then(t)},updater:function(e){return o.add(this.map[e]),this.map[e]},matcher:function(e){return-1!==e.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))),o.options.typeaheadjs&&(t=null,s={},e=o.options.typeaheadjs,s=h.isArray(e)?(t=e[0],e[1]):e,o.$input.typeahead(t,s).on("typeahead:selected",h.proxy(function(e,t){s.valueKey?o.add(t[s.valueKey]):o.add(t),o.$input.typeahead("val","")},o))),o.$container.on("click",h.proxy(function(e){o.$element.attr("disabled")||o.$input.removeAttr("disabled"),o.$input.focus()},o)),o.options.addOnBlur&&o.options.freeInput&&o.$input.on("focusout",h.proxy(function(e){0===h(".typeahead, .twitter-typeahead",o.$container).length&&(o.add(o.$input.val()),o.$input.val(""))},o)),o.$container.on("keydown","input",h.proxy(function(e){var t,i=h(e.target),s=o.findInputWrapper();if(o.$element.attr("disabled"))o.$input.attr("disabled","disabled");else{switch(e.which){case 8:0!==d(i[0])||(t=s.prev()).length&&o.remove(t.data("item"));break;case 46:0!==d(i[0])||(t=s.next()).length&&o.remove(t.data("item"));break;case 37:var a=s.prev();0===i.val().length&&a[0]&&(a.before(s),i.focus());break;case 39:a=s.next();0===i.val().length&&a[0]&&(a.after(s),i.focus())}e=i.val().length,Math.ceil(e/5);i.attr("size",Math.max(this.inputSize,i.val().length))}},o)),o.$container.on("keypress","input",h.proxy(function(e){var t,i,a,s,n,r=h(e.target);o.$element.attr("disabled")?o.$input.attr("disabled","disabled"):(t=r.val(),i=o.options.maxChars&&t.length>=o.options.maxChars,o.options.freeInput&&(a=e,s=o.options.confirmKeys,n=!1,h.each(s,function(e,t){if("number"==typeof t&&a.which===t)return!(n=!0);if(a.which===t.which){var i=!t.hasOwnProperty("altKey")||a.altKey===t.altKey,s=!t.hasOwnProperty("shiftKey")||a.shiftKey===t.shiftKey,t=!t.hasOwnProperty("ctrlKey")||a.ctrlKey===t.ctrlKey;if(i&&s&&t)return!(n=!0)}}),n||i)&&(0!==t.length&&(o.add(i?t.substr(0,o.options.maxChars):t),r.val("")),e.preventDefault()),e=r.val().length,Math.ceil(e/5),r.attr("size",Math.max(this.inputSize,r.val().length)))},o)),o.$container.on("click","[data-role=remove]",h.proxy(function(e){o.$element.attr("disabled")||o.remove(h(e.target).closest(".tag").data("item"))},o)),o.options.itemValue===a.itemValue&&("INPUT"===o.$element[0].tagName?o.add(o.$element.val()):h("option",o.$element).each(function(){o.add(h(this).attr("value"),!0)}))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var e=this.$input[0],t=this.$container[0];e&&e.parentNode!==t;)e=e.parentNode;return h(e)}},h.fn.tagsinput=function(i,s,a){var n=[];return this.each(function(){var e,t=h(this).data("tagsinput");t?i||s?void 0!==t[i]&&void 0!==(e=3===t[i].length&&void 0!==a?t[i](s,null,a):t[i](s))&&n.push(e):n.push(t):(t=new r(this,i),h(this).data("tagsinput",t),n.push(t),"SELECT"===this.tagName&&h("option",h(this)).attr("selected","selected"),h(this).val(h(this).val()))}),"string"!=typeof i||1<n.length?n:n[0]},h.fn.tagsinput.Constructor=r;var t=h("<div />");function f(e){return e?t.text(e).html():""}function d(e){var t,i=0;return document.selection?(e.focus(),(t=document.selection.createRange()).moveStart("character",-e.value.length),i=t.text.length):!e.selectionStart&&"0"!=e.selectionStart||(i=e.selectionStart),i}h(function(){h("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery),jQuery(document).ready(function(){function i(e,t){var i;(i="up"==t?e.find(".icon-spin-next"):e.find(".icon-spin-prev")).find("span").removeClass("animated"),i.find("span").removeClass("pulse_icon"),setTimeout(function(){i.find("span").addClass("animated"),i.find("span").addClass("pulse_icon")},20);var s=i.parent(),e=s.find(".icon-container .icon-checked"),s=s.find(".icon-container");("up"==t?e.next(".icon-holder").is("div")?e.next(".icon-holder"):s.find(".icon-holder").first():e.prev(".icon-holder").is("div")?e.prev(".icon-holder"):s.find(".icon-holder").last()).trigger("click")}resize_field_appendix(10),setTimeout(function(){resize_field_appendix(100)},500),setTimeout(function(){resize_field_appendix(100)},1e3),setTimeout(function(){resize_field_appendix(100)},2e3),setTimeout(function(){resize_field_appendix(100)},4e3),jQuery(document).on("click",".the-thumb",function(){hide_nf_error(jQuery(this).closest(".form_field")),jQuery(this).closest(".form_field").find(".the-thumb").removeClass("checked").removeClass("text-success").removeClass("text-danger"),jQuery(this).hasClass("fa-thumbs-o-up")&&jQuery(this).addClass("text-success").addClass("checked"),jQuery(this).hasClass("fa-thumbs-o-down")&&jQuery(this).addClass("text-danger").addClass("checked"),jQuery(this).parent().find("input").trigger("click")}),jQuery(document).on("click",".the-smile",function(){hide_nf_error(jQuery(this).closest(".form_field")),jQuery(this).closest(".form_field").find(".the-smile").removeClass("checked").removeClass("text-success").removeClass("text-danger").removeClass("text-warning"),jQuery(this).hasClass("fa-smile-o")&&jQuery(this).addClass("text-success").addClass("checked"),jQuery(this).hasClass("fa-frown-o")&&jQuery(this).addClass("text-danger").addClass("checked"),jQuery(this).hasClass("fa-meh-o")&&jQuery(this).addClass("text-warning").addClass("checked"),jQuery(this).parent().find("input").trigger("click")}),jQuery("body").on("click",":not(.icon-dropdown .icon-container)",function(){jQuery(".icon-dropdown-opened").removeClass("icon-dropdown-opened"),jQuery(".icon-dropdown .icon-container").hide()}),jQuery(".icon-select-group").each(function(){var e,t,i;jQuery(this).attr("data-append-to")&&""!=jQuery(this).attr("data-append-to")&&(e=jQuery(this).detach(),jQuery(this),e.addClass("appendix_field"),e.removeClass("form_field"),i=(t=jQuery("#"+jQuery(this).attr("data-append-to"))).find("input"),t.hasClass("material_field")?("input-group-md"!=i.parent().attr("class")&&i.wrap('<div class="input-group-md"></div>'),t.find("#field_container .appendix-group").is("div")||t.find("#field_container .input-group-md").append('<div class="appendix-group"></div>'),t.find("#field_container .input-group-md .appendix-group").append(e)):("input-group"!=i.parent().attr("class")&&i.wrap('<div class="input-group"></div>'),jQuery(this).attr("data-appendix")&&"pre"==jQuery(this).attr("data-appendix")?(t.find("#field_container .input-group").prepend('<div class="input-group-addon prefix add_on_id'+jQuery(this).attr("id")+'"></div>'),t.find("#field_container .input-group-addon.prefix.add_on_id"+jQuery(this).attr("id")).append(e)):(t.find("#field_container .input-group").append('<div class="input-group-addon postfix add_on_id'+jQuery(this).attr("id")+'"></div>'),t.find("#field_container .input-group-addon.postfix.add_on_id"+jQuery(this).attr("id")).append(e))))}),setTimeout(function(){jQuery(".icon-spinner").each(function(){jQuery(this).find(".icon-container .icon-holder").first().trigger("click")})},50),jQuery(".icon-spinner").on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),i(jQuery(this),t<0?"down":"up")}),jQuery(document).on("click",".icon-spin-next",function(){i(jQuery(this).closest(".icon-spinner"),"up")}),jQuery(document).on("click",".icon-spin-prev",function(){i(jQuery(this).closest(".icon-spinner"),"down")}),jQuery(document).on("click","div.icon-holder:not(.icon_disabled)",function(){var a,n=jQuery(this),r=n.closest(".icon-select-group"),o=jQuery(this).closest(".input_container"),e=jQuery(this).closest(".form_field"),l=o.find(".icon-container"),d=o.find(".selected-icon-holder");l.css("width",l.closest(".form_field").css("width")+"px"),o.closest(".step").hasClass("auto-step")&&(o.closest(".step").hasClass("last_step")?setTimeout(function(){l.closest("form").submit()},500):setTimeout(function(){o.closest(".step").find(".nex-step").trigger("click")},300)),n.hasClass("default-selected-icon")?jQuery(this).hasClass("icon-dropdown-opened")?(l.slideUp("fast"),n.removeClass("icon-dropdown-opened")):(n.addClass("icon-dropdown-opened"),l.slideDown("fast")):(a="flipInY",n.closest(".input_container").attr("data-animation")&&(a=n.closest(".input_container").attr("data-animation")),n.find(".icon-select").removeClass("animated"),n.find(".icon-select").removeClass(a),setTimeout(function(){n.find(".icon-select").addClass("animated"),n.find(".icon-select").addClass(a)},10),setTimeout(function(){var e,t,i,s;n.hasClass("icon-checked")?(o.hasClass("icon-spinner")&&o.find(".icon-spin-next").trigger("click"),n.hasClass("multi-dropdown-icon-checked")&&(l.show(),t=n.detach(),l.find(".icon_place_holder_"+t.attr("data-icon-number")).prepend(t),0<d.find(".multi-dropdown-icon-checked").length?d.find(".default-selected-icon").hide():(d.find(".default-selected-icon").show(),d.find(".default-selected-icon input").focus(),d.find(".default-selected-icon input").prop("checked",!0),d.find(".default-selected-icon input").trigger("change"),l.hide())),n.find(".off-icon").show(),n.find(".on-icon").hide(),n.find(".off-label").show(),n.find(".on-label").hide(),n.removeClass("icon-checked"),n.removeClass("icon-checked"),n.addClass("animated"),n.find(".icon-select").removeClass(a),n.find(".icon-select").addClass(a),n.find("input").focus(),n.find("input").prop("checked",!1),n.find("input").trigger("change")):(n.find("input").focus(),n.find("input").prop("checked",!0),n.find("input").trigger("change"),"checkbox"!=n.find("input").attr("type")&&(n.parent().find(".icon-holder").removeClass("icon-checked"),n.parent().find(".off-label").show(),n.parent().find(".on-label").hide(),n.parent().find(".off-icon").show(),n.parent().find(".on-icon").hide()),n.addClass("icon-checked"),n.find(".on-label").show(),n.find(".off-label").hide(),n.find(".on-icon").show(),n.find(".off-icon").hide(),o.hasClass("icon-spinner")&&r.hasClass("appendix_field")&&!r.hasClass("material_field")&&(s=i=0,o.hasClass("icon-label-tip")||o.hasClass("icon-label-hidden")||(i=n.find(".on-label").outerWidth()),s=n.find(".on-icon span").css("font-size"),o.css("width",55+(parseInt(i)+parseInt(s))+"px")),o.hasClass("icon-dropdown")&&(l.find(".icon_place_holder_"+n.attr("data-icon-number")).is("span")||n.hasClass("is_default_selection")||n.wrap('<span class="icon_place_holder_'+n.attr("data-icon-number")+'"></span>'),e=n.detach(),"checkbox"!=n.find("input").attr("type")?(l.hide(),t=d.find(".icon-holder").detach(),e.addClass("default-selected-icon"),t.removeClass("default-selected-icon"),t.removeClass("icon-checked"),n.removeClass("icon-dropdown-opened"),t.find(".off-label").show(),t.find(".on-label").hide(),t.find(".off-icon").show(),t.find(".on-icon").hide(),(t.hasClass("is_default_selection")?l:l.find(".icon_place_holder_"+t.attr("data-icon-number"))).prepend(t)):(r.hasClass("multi-icon-select")&&(0<l.find(".icon-holder").length?l.show():l.hide()),d.find(".default-selected-icon").hide(),d.find(".default-selected-icon input").prop("checked",!1),d.find(".default-selected-icon input").trigger("change"),e.addClass("multi-dropdown-icon-checked")),d.append(e),r.hasClass("appendix_field")&&!r.hasClass("material_field")&&(s=i=0,o.hasClass("icon-label-tip")||o.hasClass("icon-label-hidden")||(i=d.find(".icon-checked .icon-label").outerWidth()),i=d.find(".icon-checked .icon-label").outerWidth(),s=d.find(".icon-checked .icon-select").outerWidth(),o.css("width",55+(parseInt(i)+parseInt(s))+"px"))))},110));jQuery(this).closest("#field_container").attr("data-min-selection")&&parseInt(jQuery(this).closest("#field_container").attr("data-min-selection"));var t=jQuery(this).closest("#field_container").attr("data-max-selection")?parseInt(jQuery(this).closest("#field_container").attr("data-max-selection")):0;t&&setTimeout(function(){console.log(e.find("input:checked").length),e.find("input:checked").length>=t?(e.find("input:not(:checked)").prop("disabled",!0),e.find("input:not(:checked)").closest(".icon-holder").addClass("icon_disabled")):(e.find("input").prop("disabled",!1),e.find("input").closest(".icon-holder").removeClass("icon_disabled"))},250)}),jQuery("#datetimepicker input").on("change",function(e){var t,i=jQuery(this).closest("#datetimepicker").attr("data-link-min-date"),s=jQuery(this).closest("#datetimepicker").attr("data-link-max-date");i&&((t=jQuery(this).closest("form").find('[name="'+i+'"]')).closest("#datetimepicker").data("DateTimePicker").minDate(moment(jQuery(this).val()).format(t.closest("#datetimepicker").attr("data-format"))),t.closest("#datetimepicker").data("DateTimePicker").locale(t.closest("#datetimepicker").attr("data-language")),moment(t.val(),t.closest("#datetimepicker").attr("data-format"))/864e5-moment(jQuery(this).val(),jQuery(this).closest("#datetimepicker").attr("data-format"))/864e5<0&&t.closest("#datetimepicker").data("DateTimePicker").date(moment(jQuery(this).val()).format(t.closest("#datetimepicker").attr("data-format"))),jQuery('[data-linked-to-picker="linked-up"]').trigger("change")),s&&((t=jQuery(this).closest("form").find('[name="'+s+'"]')).closest("#datetimepicker").data("DateTimePicker").maxDate(moment(jQuery(this).val()).format("MM/DD/YYYY")),t.closest("#datetimepicker").data("DateTimePicker").locale(t.closest("#datetimepicker").attr("data-language")),jQuery('[data-linked-to-picker="linked-up"]').trigger("change"))}),jQuery(".pre_fill_fields input").each(function(){var e=jQuery("div.ui-nex-forms-container").find('input[name="'+jQuery(this).attr("name")+'"]'),i=jQuery(this).val();e.hasClass("the_slider")&&(e.parent().find("#slider").slider({value:parseInt(i)}),e.parent().find(".count-text").text(i),e.parent().find("input").val(parseInt(i)),e.parent().find("input").trigger("change")),jQuery("div.ui-nex-forms-container").find('select[name="'+jQuery(this).attr("name")+'[]"] option, select[name="'+jQuery(this).attr("name")+'"] option').each(function(e){var t;jQuery(this).attr("value")==i?(jQuery(this).attr("selected","selected"),jQuery('select[name="'+jQuery(this).attr("name")+'[]"]').trigger("change"),jQuery('select[name="'+jQuery(this).attr("name")+'"]').trigger("change"),jQuery(this).closest(".input_container").find("ul.dropdown-menu li:eq("+e+")").addClass("selected"),t=jQuery(this).closest(".input_container").find("ul.dropdown-menu li.selected").text(),jQuery(this).closest(".input_container").find("button.selectpicker span.filter-option").text(t)):jQuery(this).closest(".input_container").find("ul.dropdown-menu li:eq("+e+")").removeClass("selected")}),jQuery("div.ui-nex-forms-container").find('input[name="'+jQuery(this).attr("name")+'[]"]').each(function(){jQuery(this).val()==i&&(jQuery(this).prop("checked",!0),jQuery(this).trigger("change"))}),"text"==e.attr("type")&&e.val(jQuery(this).val()),"hidden"==e.attr("type")&&e.val(jQuery(this).val()),"radio"==e.attr("type")&&(e.closest(".icon-container").find("input").each(function(){var e;jQuery(this).val()==i&&(e=jQuery(this).parent(),setTimeout(function(){e.trigger("click")},200))}),e.closest(".the-radios").find('input[type="radio"]').each(function(){jQuery(this).val()==i&&jQuery(this).closest("label").trigger("click")})),jQuery("div.ui-nex-forms-container").find('textarea[name="'+jQuery(this).attr("name")+'"]').val(i)})}),function(e){"object"==typeof c_exports?module.c_exports=e(window.jQuery):"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.colorpicker&&e(window.jQuery)}(function(o){function s(e,t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&o.extend(this.colors,t),e&&(void 0!==e.toLowerCase?(e+="",this.setColor(e)):void 0!==e.h&&(this.value=e))}function r(e,t){var i;this.element=o(e).addClass("colorpicker-element"),this.options=o.extend(!0,{},a,this.element.data(),t),this.component=this.options.component,this.component=!1!==this.component&&this.element.find(this.component),this.component&&0===this.component.length&&(this.component=!1),this.container=!0===this.options.container?this.element:this.options.container,this.container=!1!==this.container&&o(this.container),this.input=this.element.is("input")?this.element:!!this.options.input&&this.element.find(this.options.input),this.input&&0===this.input.length&&(this.input=!1),this.color=new s(!1!==this.options.color?this.options.color:this.getValue(),this.options.colorSelectors),this.format=!1!==this.options.format?this.options.format:this.color.origFormat,!1!==this.options.color&&(this.updateInput(this.color),this.updateData(this.color)),this.picker=o(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),"rgba"!==this.format&&"hsla"!==this.format&&!1!==this.options.format||this.picker.addClass("colorpicker-with-alpha"),"right"===this.options.align&&this.picker.addClass("colorpicker-right"),!0===this.options.inline&&this.picker.addClass("colorpicker-no-arrow"),this.options.colorSelectors&&(i=this,o.each(this.options.colorSelectors,function(e,t){e=o("<i />").css("background-color",t).data("class",e);e.click(function(){i.setValue(o(this).css("background-color"))}),i.picker.find(".colorpicker-selectors").append(e)}),this.picker.find(".colorpicker-selectors").show()),this.picker.on("mousedown.colorpicker touchstart.colorpicker",o.proxy(this.mousedown,this)),this.picker.appendTo(this.container||o("body")),!1!==this.input&&(this.input.on({"keyup.colorpicker":o.proxy(this.keyup,this)}),this.input.on({"change.colorpicker":o.proxy(this.change,this)}),!1===this.component&&this.element.on({"focus.colorpicker":o.proxy(this.show,this)}),!1===this.options.inline&&this.element.on({"focusout.colorpicker":o.proxy(this.hide,this)})),!1!==this.component&&this.component.on({"click.colorpicker":o.proxy(this.show,this)}),!1===this.input&&!1===this.component&&this.element.on({"click.colorpicker":o.proxy(this.show,this)}),!1!==this.input&&!1!==this.component&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":o.proxy(this.show,this),"focus.colorpicker":o.proxy(this.show,this)}),this.update(),o(o.proxy(function(){this.element.trigger("create")},this))}var a={horizontal:!(s.prototype={constructor:s,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return"number"==typeof e?e:isNaN(e)||null===e||""===e||void 0===e?1:""===e?0:void 0!==e.toLowerCase?(e.match(/^\./)&&(e="0"+e),Math.ceil(100*parseFloat(e))/100):1},isTransparent:function(e){return!!e&&("transparent"===(e=e.toLowerCase().trim())||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/))},rgbaIsTransparent:function(e){return 0===e.r&&0===e.g&&0===e.b&&0===e.a},setColor:function(e){(e=e.toLowerCase().trim())&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(s){var a;s=s.toLowerCase(),void 0!==this.colors[s]&&(s=this.colors[s],a="alias");var n=this,r=!1;return o.each(this.stringParsers,function(e,t){var i=t.re.exec(s),i=i&&t.parse.apply(n,[i]),t=a||t.format||"rgba";return!i||(r=t.match(/hsla?/)?n.RGBtoHSB.apply(n,n.HSLtoRGB.apply(n,i)):n.RGBtoHSB.apply(n,i),n.origFormat=t,!1)}),r},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=Math.round(parseInt(100*(1-e),10)/100*100)/100},toRGB:function(e,t,i,s){var a,n,r;return e||(e=this.value.h,t=this.value.s,i=this.value.b),e=(e*=360)%360/60,i=a=n=i-(r=i*t),i+=[r,t=r*(1-Math.abs(e%2-1)),0,0,t,r][e=~~e],a+=[t,r,r,t,0,0][e],n+=[0,0,t,r,r,t][e],{r:Math.round(255*i),g:Math.round(255*a),b:Math.round(255*n),a:s||this.value.a}},toHex:function(e,t,i,s){s=this.toRGB(e,t,i,s);return this.rgbaIsTransparent(s)?"transparent":"#"+(1<<24|parseInt(s.r)<<16|parseInt(s.g)<<8|parseInt(s.b)).toString(16).substr(1)},toHSL:function(e,t,i,s){e=e||this.value.h,t=t||this.value.s,i=i||this.value.b,s=s||this.value.a;var a=e,e=(2-t)*i,i=t*i;return i/=0<e&&e<=1?e:2-e,e/=2,1<i&&(i=1),{h:isNaN(a)?0:a,s:isNaN(i)?0:i,l:isNaN(e)?0:e,a:isNaN(s)?0:s}},toAlias:function(e,t,i,s){var a,n=this.toHex(e,t,i,s);for(a in this.colors)if(this.colors[a]===n)return a;return!1},RGBtoHSB:function(e,t,i,s){var a,n;return e/=255,t/=255,i/=255,t=((t=0==(n=(a=Math.max(e,t,i))-Math.min(e,t,i))?null:a===e?(t-i)/n:a===t?(i-e)/n+2:(e-t)/n+4)+360)%6*60/360,n=0==n?0:n/a,{h:this._sanitizeNumber(t),s:n,b:a,a:this._sanitizeNumber(s)}},HueToRGB:function(e,t,i){return i<0?i+=1:1<i&&--i,6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},HSLtoRGB:function(e,t,i,s){var a;t<0&&(t=0);var n=2*i-(a=i<=.5?i*(1+t):i+t-i*t),i=e+1/3,t=e,e=e-1/3;return[Math.round(255*this.HueToRGB(n,a,i)),Math.round(255*this.HueToRGB(n,a,t)),Math.round(255*this.HueToRGB(n,a,e)),this._sanitizeNumber(s)]},toString:function(e){var t=!1;switch(e=e||"rgba"){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return"rgba("+(t=this.toRGB()).r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(360*t.h)+","+Math.round(100*t.s)+"%,"+Math.round(100*t.l)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d*(?:\.\d+)?)\s*,\s*(\d*(?:\.\d+)?)\%\s*,\s*(\d*(?:\.\d+)?)\%\s*(?:,\s*(\d*(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return void 0!==this.colors[e.toLowerCase()]&&this.colors[e.toLowerCase()]}}),inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null};r.Color=s,r.prototype={constructor:r,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker","color").off(".colorpicker"),!1!==this.input&&this.input.off(".colorpicker"),!1!==this.component&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(!1!==this.options.inline||this.options.container)return!1;var e=this.container&&this.container[0]!==document.body?"position":"offset",t=this.component||this.element,e=t[e]();"right"===this.options.align&&(e.left-=this.picker.outerWidth()-t.outerWidth()),this.picker.css({top:e.top+t.outerHeight(),left:e.left})},show:function(e){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),o(window).on("resize.colorpicker",o.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),!this.component&&this.input||!1!==this.options.inline||o(window.document).on({"mousedown.colorpicker":o.proxy(this.hide,this)}),this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),o(window).off("resize.colorpicker",this.reposition),o(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(e){return e=e||this.color.toString(this.format),this.element.data("color",e),e},updateInput:function(e){var t;return e=e||this.color.toString(this.format),!1!==this.input&&(this.options.colorSelectors&&(t=new s(e,this.options.colorSelectors).toAlias(),void 0!==this.options.colorSelectors[t]&&(e=t)),this.input.prop("value",e)),e},updatePicker:function(e){void 0!==e&&(this.color=new s(e,this.options.colorSelectors));var t=!1===this.options.horizontal?this.options.sliders:this.options.slidersHorz,i=this.picker.find("i");if(0!==i.length)return!1===this.options.horizontal?(t=this.options.sliders,i.eq(1).css("top",t.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",t.alpha.maxTop*(1-this.color.value.a))):(t=this.options.slidersHorz,i.eq(1).css("left",t.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",t.alpha.maxLeft*(1-this.color.value.a))),i.eq(0).css({top:t.saturation.maxTop-this.color.value.b*t.saturation.maxTop,left:this.color.value.s*t.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),e},updateComponent:function(e){var t;return e=e||this.color.toString(this.format),!1!==this.component&&(0<(t=this.component.find("i").eq(0)).length?t:this.component).css({backgroundColor:e}),e},update:function(e){var t;return!1===this.getValue(!1)&&!0!==e||(t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker()),t},setValue:function(e){this.color=new s(e,this.options.colorSelectors),this.update(!0),this.element.trigger({type:"changeColor",color:this.color,value:e})},getValue:function(e){var t;return e=void 0===e?"#000000":e,void 0!==(t=this.hasInput()?this.input.val():this.element.data("color"))&&""!==t&&null!==t||(t=e),t},hasInput:function(){return!1!==this.input},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),this.element.trigger({type:"disable",color:this.color,value:this.getValue()}),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),this.element.trigger({type:"enable",color:this.color,value:this.getValue()}),!0)},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=o(e.target).closest("div"),i=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!t.is(".colorpicker")){if(t.is(".colorpicker-saturation"))this.currentSlider=o.extend({},i.saturation);else if(t.is(".colorpicker-hue"))this.currentSlider=o.extend({},i.hue);else{if(!t.is(".colorpicker-alpha"))return!1;this.currentSlider=o.extend({},i.alpha)}i=t.offset();this.currentSlider.guide=t.find("i")[0].style,this.currentSlider.left=e.pageX-i.left,this.currentSlider.top=e.pageY-i.top,this.mousePointer={left:e.pageX,top:e.pageY},o(document).on({"mousemove.colorpicker":o.proxy(this.mousemove,this),"touchmove.colorpicker":o.proxy(this.mousemove,this),"mouseup.colorpicker":o.proxy(this.mouseup,this),"touchend.colorpicker":o.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(e){!e.pageX&&!e.pageY&&e.originalEvent&&e.originalEvent.touches&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),e=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=t+"px",this.currentSlider.guide.top=e+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,e/this.currentSlider.maxTop),"setAlpha"===this.currentSlider.callTop&&!1===this.options.format&&(1!==this.color.value.a?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),o(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},change:function(e){this.keyup(e)},keyup:function(e){38===e.keyCode?(this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0)):40===e.keyCode?(0<this.color.value.a&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0)):(this.color=new s(this.input.val(),this.options.colorSelectors),this.color.origFormat&&!1===this.options.format&&(this.format=this.color.origFormat),!1!==this.getValue(!1)&&(this.updateData(),this.updateComponent(),this.updatePicker())),this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}},o.colorpicker=r,o.fn.colorpicker=function(s){var a=arguments,n=null,e=this.each(function(){var e=o(this),t=e.data("colorpicker"),i="object"==typeof s?s:{};t||"string"==typeof s?"string"==typeof s&&(n=t[s].apply(t,Array.prototype.slice.call(a,1))):e.data("colorpicker",new r(this,i))});return"getValue"===s?n:e},o.fn.colorpicker.constructor=r}),function(c){function r(e,t,i){var s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);s=s.toUTCString();document.cookie=e+"="+t+"; expires="+s+"; path=/"}function u(e,t,i){var s,a,n;c(i).is("select")&&(t="select"),"select"===t&&c(i).attr("multiple")?(s=[],c(i).find("option:selected").each(function(){s.push(jQuery(this).attr("value"))}),r(e.name,s,e.expire)):"checkbox"===t?(a=c(i).closest(".input_container"),n=[],a.find("input:checked").each(function(){"checked"==jQuery(this).attr("checked")&&n.push(jQuery(this).val())}),r(e.name,n,e.expire)):"radio"===t?r(e.name,c(i).val(),e.expire):(t=(t=i.value).replace(/\n/g,"[BREAK]"),r(e.name,t,e.expire),e.debug&&console.log("Previous Input for ["+e.name+"] = ["+i.value+"]"))}c.fn.inputStore=function(e){var t,i=c.extend({name:this.attr("name"),expire:365,debug:!1},e),s=function(e){for(var t=e+"=",i=decodeURIComponent(document.cookie).split(";"),s=0;s<i.length;s++){for(var a=i[s];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}(i.name),a=this.attr("type");if(this.is("select")&&(a="select"),a&&"select"==a){var n=s.split(",");this.find("option").prop("selected",!1);for(var r=0;r<n.length;r++)this.find('option[value="'+n[r]+'"]').prop("selected",!0),this.trigger("change")}else if(a&&"checkbox"==a)for(var o=s.split(","),r=0;r<o.length;r++){var l,d=this.parent().find('input[value="'+o[r]+'"]');setTimeout(function(){d.closest("label").trigger("click")},100),(l=this.closest(".icon-container").find('input[value="'+o[r]+'"]')).prop("checked",!0),l.trigger("change"),l.parent().addClass("icon-checked"),l.parent().find(".on-label").show(),l.parent().find(".off-label").hide(),l.parent().find(".on-icon").show(),l.parent().find(".off-icon").hide()}else a&&"radio"==a?(this.prop("checked",!1),t=this.parent().find('input[value="'+s+'"]'),setTimeout(function(){t.closest("label").trigger("click")},100),t.closest(".icon-holder").trigger("click"),(l=this.closest(".icon-container").find('input[value="'+s+'"]')).prop("checked",!0),l.trigger("change"),l.parent().addClass("icon-checked"),l.parent().find(".on-label").show(),l.parent().find(".off-label").hide(),l.parent().find(".on-icon").show(),l.parent().find(".off-icon").hide()):(s&&this.closest(".ui-nex-forms-container").hasClass("m_design")&&this.closest(".form_field").addClass("is_focused"),e=(e=s).replace(/\[BREAK\]/g,"\n"),this.val(e));return i.debug&&console.log("Previous Input for ["+i.name+"] = ["+s+"]"),this.on("keyup",function(){u(i,a,this)}),this.on("change",function(){u(i,a,this)}),this}}(jQuery);var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var s=e.length,a=0;a<s;a++){var n=e[a];if(t.call(i,n,a,e))return{i:a,v:n}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return("undefined"==typeof window||window!==e)&&"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,s){if(t){for(i=$jscomp.global,e=e.split("."),s=0;s<e.length-1;s++){var a=e[s];a in i||(i[a]={}),i=i[a]}(t=t(s=i[e=e[e.length-1]]))!=s&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e||function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e,t,i){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=e(require("jquery")):e(t||i)}(function(r){function o(d,_,y){var b={invalid:[],getCaret:function(){try{var e=0,t=d.get(0),i=document.selection,t=t.selectionStart;return i&&-1===navigator.appVersion.indexOf("MSIE 10")?((i=i.createRange()).moveStart("character",-b.val().length),e=i.text.length):!t&&"0"!==t||(e=t),e}catch(e){}},setCaret:function(e){try{var t;d.is(":focus")&&((t=d.get(0)).setSelectionRange?t.setSelectionRange(e,e):((t=t.createTextRange()).collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()))}catch(e){}},events:function(){d.on("keydown.mask",function(e){d.data("mask-keycode",e.keyCode||e.which),d.data("mask-previus-value",d.val()),d.data("mask-previus-caret-pos",b.getCaret()),b.maskDigitPosMapOld=b.maskDigitPosMap}).on(r.jMaskGlobals.useInput?"input.mask":"keyup.mask",b.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){d.keydown().keyup()},100)}).on("change.mask",function(){d.data("changed",!0)}).on("blur.mask",function(){n===b.val()||d.data("changed")||d.trigger("change"),d.data("changed",!1)}).on("blur.mask",function(){n=b.val()}).on("focus.mask",function(e){!0===y.selectOnFocus&&r(e.target).select()}).on("focusout.mask",function(){y.clearIfNotMatch&&!s.test(b.val())&&b.val("")})},getRegexMask:function(){for(var e,t,i,s,a=[],n=0;n<_.length;n++)(e=j.translation[_.charAt(n)])?(t=e.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=e.optional,(e=e.recursive)?(a.push(_.charAt(n)),s={digit:_.charAt(n),pattern:t}):a.push(i||e?t+"?":t)):a.push(_.charAt(n).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return a=a.join(""),s&&(a=a.replace(new RegExp("("+s.digit+"(.*"+s.digit+")?)"),"($1)?").replace(new RegExp(s.digit,"g"),s.pattern)),new RegExp(a)},destroyEvents:function(){d.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(e){var t=d.is("input")?"val":"text";return t=0<arguments.length?(d[t]()!==e&&d[t](e),d):d[t]()},calculateCaretPosition:function(e){var t=b.getMasked(),i=b.getCaret();if(e!==t){for(var s=d.data("mask-previus-caret-pos")||0,t=t.length,a=e.length,n=e=0,r=0,o=0,l=i;l<t&&b.maskDigitPosMap[l];l++)n++;for(l=i-1;0<=l&&b.maskDigitPosMap[l];l--)e++;for(l=i-1;0<=l;l--)b.maskDigitPosMap[l]&&r++;for(l=s-1;0<=l;l--)b.maskDigitPosMapOld[l]&&o++;a<i?i=10*t:i<=s&&s!==a?b.maskDigitPosMapOld[i]||(i=(s=i)-(o-r)-e,b.maskDigitPosMap[i]&&(i=s)):s<i&&(i=i+(r-o)+n)}return i},behaviour:function(e){e=e||window.event,b.invalid=[];var t=d.data("mask-keycode");if(-1===r.inArray(t,j.byPassKeys)){t=b.getMasked();var i=b.getCaret(),s=d.data("mask-previus-value")||"";return setTimeout(function(){b.setCaret(b.calculateCaretPosition(s))},r.jMaskGlobals.keyStrokeCompensation),b.val(t),b.setCaret(i),b.callbacks(e)}},getMasked:function(e,t){var i,s,a,n=[],r=void 0===t?b.val():t+"",o=0,l=_.length,d=0,c=r.length,u=1,h="push",f=-1,p=0;for(t=[],s=y.reverse?(h="unshift",u=-1,i=0,o=l-1,d=c-1,function(){return-1<o&&-1<d}):(i=l-1,function(){return o<l&&d<c});s();){var m=_.charAt(o),v=r.charAt(d),g=j.translation[m];g?(v.match(g.pattern)?(n[h](v),g.recursive&&(-1===f?f=o:o===i&&o!==f&&(o=f-u),i===f&&(o-=u)),o+=u):v===a?(p--,a=void 0):g.optional?(o+=u,d-=u):g.fallback?(n[h](g.fallback),o+=u,d-=u):b.invalid.push({p:d,v:v,e:g.pattern}),d+=u):(e||n[h](m),v===m?(t.push(d),d+=u):(a=m,t.push(d+p),p++),o+=u)}return e=_.charAt(i),l!==c+1||j.translation[e]||n.push(e),n=n.join(""),b.mapMaskdigitPositions(n,t,c),n},mapMaskdigitPositions:function(e,t,i){for(e=y.reverse?e.length-i:0,b.maskDigitPosMap={},i=0;i<t.length;i++)b.maskDigitPosMap[t[i]+e]=1},callbacks:function(e){function t(e,t,i){"function"==typeof y[e]&&t&&y[e].apply(this,i)}var i=b.val(),s=i!==n,a=[i,e,d,y];t("onChange",!0==s,a),t("onKeyPress",!0==s,a),t("onComplete",i.length===_.length,a),t("onInvalid",0<b.invalid.length,[i,e,d,b.invalid,y])}};d=r(d);var s,j=this,n=b.val();_="function"==typeof _?_(b.val(),void 0,d,y):_,j.mask=_,j.options=y,j.remove=function(){var e=b.getCaret();return j.options.placeholder&&d.removeAttr("placeholder"),d.data("mask-maxlength")&&d.removeAttr("maxlength"),b.destroyEvents(),b.val(j.getCleanVal()),b.setCaret(e),d},j.getCleanVal=function(){return b.getMasked(!0)},j.getMaskedVal=function(e){return b.getMasked(!1,e)},j.init=function(e){if(e=e||!1,y=y||{},j.clearIfNotMatch=r.jMaskGlobals.clearIfNotMatch,j.byPassKeys=r.jMaskGlobals.byPassKeys,j.translation=r.extend({},r.jMaskGlobals.translation,y.translation),j=r.extend(!0,{},j,y),s=b.getRegexMask(),e)b.events(),b.val(b.getMasked());else{y.placeholder&&d.attr("placeholder",y.placeholder),d.data("mask")&&d.attr("autocomplete","off");for(var t=!(e=0);e<_.length;e++){var i=j.translation[_.charAt(e)];if(i&&i.recursive){t=!1;break}}t&&d.attr("maxlength",_.length).data("mask-maxlength",!0),b.destroyEvents(),b.events(),e=b.getCaret(),b.val(b.getMasked()),b.setCaret(e)}},j.init(!d.is("input"))}r.maskWatchers={};function t(){var e=r(this),t={},i=e.attr("data-mask");if(e.attr("data-mask-reverse")&&(t.reverse=!0),e.attr("data-mask-clearifnotmatch")&&(t.clearIfNotMatch=!0),"true"===e.attr("data-mask-selectonfocus")&&(t.selectOnFocus=!0),l(e,i,t))return e.data("mask",new o(this,i,t))}var l=function(e,t,i){i=i||{};var s=r(e).data("mask"),a=JSON.stringify;e=r(e).val()||r(e).text();try{return"function"==typeof t&&(t=t(e)),"object"!=typeof s||a(s.options)!==a(i)||s.mask!==t}catch(e){}},e=function(e){var t=document.createElement("div"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),i};r.fn.mask=function(e,t){t=t||{};function i(){if(l(this,e,t))return r(this).data("mask",new o(this,e,t))}var s=this.selector,a=(n=r.jMaskGlobals).watchInterval,n=t.watchInputs||n.watchInputs;return r(this).each(i),s&&""!==s&&n&&(clearInterval(r.maskWatchers[s]),r.maskWatchers[s]=setInterval(function(){r(document).find(s).each(i)},a)),this},r.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},r.fn.unmask=function(){return clearInterval(r.maskWatchers[this.selector]),delete r.maskWatchers[this.selector],this.each(function(){var e=r(this).data("mask");e&&e.remove().removeData("mask")})},r.fn.cleanVal=function(){return this.data("mask").getCleanVal()},r.applyDataMask=function(e){((e=e||r.jMaskGlobals.maskElements)instanceof r?e:r(e)).filter(r.jMaskGlobals.dataMaskAttr).each(t)},e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&e("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},r.jMaskGlobals=r.jMaskGlobals||{},(e=r.jMaskGlobals=r.extend(!0,{},e,r.jMaskGlobals)).dataMask&&r.applyDataMask(),setInterval(function(){r.jMaskGlobals.watchDataMask&&r.applyDataMask()},e.watchInterval)},window.jQuery,window.Zepto),function(i,e,a){function n(e,t){this.element=e,this.$element=a(this.element),this.canvas=!1,this.$canvas=!1,this.ctx=!1,this.drawing=!1,this.currentPos={x:0,y:0},this.lastPos=this.currentPos,this._data=this.$element.data(),this.settings=a.extend({},s,t,this._data),this.init()}i.requestAnimFrame=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimaitonFrame||function(e){i.setTimeout(e,1e3/60)};var r="jqSignature",s={lineColor:"#222222",lineWidth:1,border:"1px dashed #AAAAAA",background:"#FFFFFF",width:258,height:100,autoFit:!1};n.prototype={init:function(){this.$canvas=a("<canvas></canvas>").appendTo(this.$element),this.$canvas.attr({width:this.settings.width,height:this.settings.height}),this.$canvas.css({boxSizing:"border-box",width:this.settings.width+"px",height:this.settings.height+"px",border:this.settings.border,background:this.settings.background,cursor:"crosshair"}),!0===this.settings.autoFit&&this._resizeCanvas(),this.canvas=this.$canvas[0],this._resetCanvas(),this.$canvas.on("mousedown touchstart",a.proxy(function(e){this.drawing=!0,this.lastPos=this.currentPos=this._getPosition(e)},this)),this.$canvas.on("mousemove touchmove",a.proxy(function(e){this.currentPos=this._getPosition(e)},this)),this.$canvas.on("mouseup touchend",a.proxy(function(e){this.drawing=!1;var t=a.Event("jq.signature.changed");this.$element.trigger(t)},this)),a(e).on("touchstart touchmove touchend",a.proxy(function(e){e.target===this.canvas&&e.preventDefault()},this));var t=this;!function e(){i.requestAnimFrame(e),t._renderCanvas()}()},clearCanvas:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._resetCanvas()},getDataURL:function(){return this.canvas.toDataURL()},_getPosition:function(e){var t,i=this.canvas.getBoundingClientRect(),i=-1!==(e=e.originalEvent).type.indexOf("touch")?(t=e.touches[0].clientX-i.left,e.touches[0].clientY-i.top):(t=e.clientX-i.left,e.clientY-i.top);return{x:t,y:i}},_renderCanvas:function(){this.drawing&&(this.ctx.beginPath(),this.ctx.moveTo(this.lastPos.x,this.lastPos.y),this.ctx.lineTo(this.currentPos.x,this.currentPos.y),this.ctx.stroke(),this.lastPos=this.currentPos)},_resetCanvas:function(){this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle=this.settings.lineColor,this.ctx.lineWidth=this.settings.lineWidth},_resizeCanvas:function(){var e=this.$element.outerWidth();this.$canvas.attr("width",e),this.$canvas.css("width",e+"px")}},a.fn[r]=function(t){var i,s=arguments;return void 0===t||"object"==typeof t?this.each(function(){a.data(this,"plugin_"+r)||a.data(this,"plugin_"+r,new n(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?(this.each(function(){var e=a.data(this,"plugin_"+r);e instanceof n&&"function"==typeof e[t]&&(i=e[t].apply(e,Array.prototype.slice.call(s,1))),"destroy"===t&&a.data(this,"plugin_"+r,null)}),void 0!==i?i:this):void 0}}(window,document,jQuery);